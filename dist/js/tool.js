/*! For license information please see tool.js.LICENSE.txt */
(()=>{"use strict";var e,t={65:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(314),n=r.n(a)()(function(e){return e[1]});n.push([e.id,".fm-view-switcher[data-v-65774343]{background-color:var(--fm-bg-alt-color,#f9fafb);border:1px solid var(--fm-border-color,#e5e7eb);border-radius:var(--fm-border-radius-sm,.5rem);display:flex;padding:.25rem}.fm-view-btn[data-v-65774343]{background:transparent;border:none;border-radius:.375rem;color:var(--fm-text-color-dim,#6b7285);cursor:pointer;padding:.4rem .7rem;transition:all .2s ease}.fm-view-btn.active[data-v-65774343]{background-color:var(--fm-bg-color,#fff);box-shadow:var(--fm-shadow-sm,0 1px 2px 0 rgba(0,0,0,.05));color:var(--fm-primary-color,#3b82f6)}.dark .fm-view-btn.active[data-v-65774343]{background-color:var(--fm-bg-color)}",""]);const o=n},72:(e,t,r)=>{var a,n=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),l=[];function i(e){for(var t=-1,r=0;r<l.length;r++)if(l[r].identifier===e){t=r;break}return t}function c(e,t){for(var r={},a=[],n=0;n<e.length;n++){var o=e[n],c=t.base?o[0]+t.base:o[0],s=r[c]||0,d="".concat(c," ").concat(s);r[c]=s+1;var u=i(d),m={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(l[u].references++,l[u].updater(m)):l.push({identifier:d,updater:g(m,t),references:1}),a.push(d)}return a}function s(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var n=r.nc;n&&(a.nonce=n)}if(Object.keys(a).forEach(function(e){t.setAttribute(e,a[e])}),"function"==typeof e.insert)e.insert(t);else{var l=o(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function m(e,t,r,a){var n=r?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var o=document.createTextNode(n),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(o,l[t]):e.appendChild(o)}}function f(e,t,r){var a=r.css,n=r.media,o=r.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var p=null,v=0;function g(e,t){var r,a,n;if(t.singleton){var o=v++;r=p||(p=s(t)),a=m.bind(null,r,o,!1),n=m.bind(null,r,o,!0)}else r=s(t),a=f.bind(null,r,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var r=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<r.length;a++){var n=i(r[a]);l[n].references--}for(var o=c(e,t),s=0;s<r.length;s++){var d=i(r[s]);0===l[d].references&&(l[d].updater(),l.splice(d,1))}r=o}}}},90:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(314),n=r.n(a)()(function(e){return e[1]});n.push([e.id,".fm-list[data-v-5267c09e]{display:flex;flex-direction:column;width:100%}.fm-list-header[data-v-5267c09e]{color:var(--fm-text-color-dim);font-size:.875rem;font-weight:600;text-align:left}.fm-list-header[data-v-5267c09e],.fm-list-item[data-v-5267c09e]{border-bottom:1px solid var(--fm-border-color);display:grid;gap:1rem;grid-template-columns:2fr 1fr 1fr 1fr 1fr;padding:.5rem 1.25rem}.fm-list-item[data-v-5267c09e]{align-items:center;transition:background-color .2s ease}.fm-list-item[data-v-5267c09e]:hover{background-color:var(--fm-bg-alt-color)}.fm-list-actions[data-v-5267c09e],.fm-list-modified[data-v-5267c09e],.fm-list-name[data-v-5267c09e],.fm-list-size[data-v-5267c09e],.fm-list-tags[data-v-5267c09e]{align-items:center;display:flex;justify-content:flex-start;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.fm-list-name[data-v-5267c09e]{color:var(--fm-text-color);font-weight:500}.fm-list-tags[data-v-5267c09e]{color:var(--fm-text-color-dim)}.fm-list-modified[data-v-5267c09e],.fm-list-size[data-v-5267c09e]{color:var(--fm-text-color-dim);font-size:.875rem;text-align:center}.fm-list-actions[data-v-5267c09e]{display:flex;gap:.75rem;justify-content:flex-end}.fm-action-btn[data-v-5267c09e]{border-radius:50%;color:var(--fm-text-color-dim);padding:.5rem;transition:all .2s ease}.fm-action-btn[data-v-5267c09e]:hover{background-color:var(--fm-bg-color);color:var(--fm-primary-color)}.fm-action-btn-danger[data-v-5267c09e]:hover{color:var(--fm-danger-color)}.fm-inline-rename-input[data-v-5267c09e]{border:1px solid var(--fm-border-color-focus);outline:none;padding:.25rem .5rem}.fm-inline-rename-input[data-v-5267c09e],.fm-list-thumb[data-v-5267c09e]{border-radius:var(--fm-border-radius-sm)}.fm-list-thumb[data-v-5267c09e]{flex-shrink:0;height:32px;-o-object-fit:cover;object-fit:cover;width:32px}.fm-list-icon[data-v-5267c09e],.icon-mask[data-v-5267c09e]{flex-shrink:0;height:24px;width:24px}.icon-mask[data-v-5267c09e]{background-color:currentColor;mask-position:center;-webkit-mask-position:center;mask-repeat:no-repeat;-webkit-mask-repeat:no-repeat;mask-size:contain;-webkit-mask-size:contain}",""]);const o=n},94:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(314),n=r.n(a)()(function(e){return e[1]});n.push([e.id,".fm-pagination-nova[data-v-9a4a7a34]{border-top:1px solid var(--fm-border-color)}",""]);const o=n},139:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(314),n=r.n(a)()(function(e){return e[1]});n.push([e.id,".fm-grid[data-v-6b2a1466]{display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}.fm-cell[data-v-6b2a1466]{aspect-ratio:1/1;background:var(--fm-bg-alt-color);border:1px solid transparent;border-radius:var(--fm-border-radius);box-shadow:var(--fm-shadow-sm);cursor:pointer;overflow:hidden;position:relative;transition:all .25s cubic-bezier(.4,0,.2,1)}.fm-cell[data-v-6b2a1466]:focus-visible,.fm-cell[data-v-6b2a1466]:hover{border-color:var(--fm-border-color-focus);box-shadow:var(--fm-shadow-lg);outline:none;transform:translateY(-4px)}.dark .fm-cell[data-v-6b2a1466]{background:color-mix(in srgb,var(--fm-bg-alt-color) 50%,transparent)}.fm-content[data-v-6b2a1466]{flex-direction:column;inset:0;overflow:hidden;padding:.75rem;position:absolute;text-align:center}.fm-content[data-v-6b2a1466],.fm-icon-wrapper[data-v-6b2a1466]{align-items:center;display:flex;justify-content:center}.fm-icon-wrapper[data-v-6b2a1466]{flex-grow:1;margin-bottom:.75rem;width:55%}.fm-icon[data-v-6b2a1466]{height:100%;opacity:.9;width:100%}.fm-thumb[data-v-6b2a1466]{border-radius:var(--fm-border-radius-sm);max-height:100%;max-width:100%;-o-object-fit:cover;object-fit:cover}.fm-details[data-v-6b2a1466]{align-items:center;display:flex;flex-direction:column;justify-content:center}.fm-label[data-v-6b2a1466]{background:color-mix(in srgb,var(--fm-bg-color) 80%,transparent);border-top:1px solid var(--fm-border-color);bottom:0;color:var(--fm-text-color);font-size:.875rem;font-weight:500;left:0;overflow:hidden;padding:.5rem;position:absolute;text-overflow:ellipsis;white-space:nowrap;width:100%}.dark .fm-label[data-v-6b2a1466]{background:color-mix(in srgb,var(--fm-bg-alt-color) 80%,transparent)}.icon-mask[data-v-6b2a1466]{background-color:currentColor;display:inline-block;mask-position:center;-webkit-mask-position:center;mask-repeat:no-repeat;-webkit-mask-repeat:no-repeat;mask-size:contain;-webkit-mask-size:contain}.fm-tags[data-v-6b2a1466]{display:flex;flex-wrap:wrap;justify-content:center}.fm-tag[data-v-6b2a1466]{border-radius:9999px;display:inline-block;font-size:.75rem;font-weight:500;margin-bottom:25px;text-transform:capitalize}.fm-tag.bg-gray-200[data-v-6b2a1466]{background-color:#e5e7eb;color:#4b5563}.fm-tag.bg-red-500[data-v-6b2a1466]{background-color:#ef4444;color:#fff}.fm-tag.bg-blue-500[data-v-6b2a1466]{background-color:#3b82f6;color:#fff}.fm-tag.bg-green-500[data-v-6b2a1466]{background-color:#10b981;color:#fff}.fm-tag.bg-yellow-500[data-v-6b2a1466]{background-color:#f59e0b;color:#fff}",""]);const o=n},199:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(314),n=r.n(a)()(function(e){return e[1]});n.push([e.id,".fm-dropzone[data-v-1546f332]{background-color:color-mix(in srgb,var(--fm-primary-color,#3b82f6) 5%,var(--fm-bg-alt-color,#f9fafb));border:2px dashed var(--fm-border-color,#e5e7eb);border-radius:var(--fm-border-radius,.75rem);color:var(--fm-text-color-dim,#6b7285);cursor:pointer;margin:1.5rem;padding:3rem;text-align:center;transition:all .2s ease-in-out}.fm-dropzone[data-v-1546f332]:hover{border-color:var(--fm-primary-color,#3b82f6);border-style:solid;box-shadow:0 0 25px color-mix(in srgb,var(--fm-primary-color,#3b82f6) 15%,transparent);color:var(--fm-primary-color,#3b82f6);transform:scale(1.01)}.fm-drop-icon[data-v-1546f332]{font-size:3rem;margin-bottom:.75rem}.fade-scale-enter-active[data-v-1546f332],.fade-scale-leave-active[data-v-1546f332]{transition:all .2s ease-in-out}.fade-scale-enter-from[data-v-1546f332],.fade-scale-leave-to[data-v-1546f332]{opacity:0;transform:scale(.97)}",""]);const o=n},262:(e,t)=>{t.A=(e,t)=>{const r=e.__vccOpts||e;for(const[e,a]of t)r[e]=a;return r}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r}).join("")},t.i=function(e,r,a){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(a)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(n[l]=!0)}for(var i=0;i<e.length;i++){var c=[].concat(e[i]);a&&n[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),t.push(c))}},t}},351:()=>{},448:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(314),n=r.n(a)()(function(e){return e[1]});n.push([e.id,".fm-per-page[data-v-10709cc4]{align-items:center;display:flex}.fm-select[data-v-10709cc4]{background-color:var(--fm-bg-alt-color,#f9fafb);border:1px solid var(--fm-border-color,#e5e7eb);border-radius:var(--fm-border-radius-sm,.5rem);color:var(--fm-text-color,#374151);padding:.4rem .7rem}.dark .fm-select[data-v-10709cc4]{background:var(--fm-bg-color)}",""]);const o=n},618:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(314),n=r.n(a)()(function(e){return e[1]});n.push([e.id,".fm-breadcrumb[data-v-ce7a205c]{align-items:center;display:flex;gap:.5rem}.fm-breadcrumb[data-v-ce7a205c],.fm-btn-icon[data-v-ce7a205c]{color:var(--fm-text-color-dim,#6b7285)}.fm-btn-icon[data-v-ce7a205c]{background:none;border:none;border-radius:50%;cursor:pointer;padding:.5rem;transition:color .2s ease}.fm-btn-icon[data-v-ce7a205c]:hover{color:var(--fm-primary-color,#3b82f6)}.fm-path[data-v-ce7a205c]{background:none;border:none;border-radius:var(--fm-border-radius-sm,.5rem);color:var(--fm-text-color,#374151);cursor:pointer;font-weight:500;padding:.5rem .75rem;transition:background-color .2s ease,color .2s ease}.fm-path[data-v-ce7a205c]:hover{background-color:var(--fm-bg-alt-color,#f9fafb);color:var(--fm-primary-color,#3b82f6)}",""]);const o=n},643:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(314),n=r.n(a)()(function(e){return e[1]});n.push([e.id,".fm-context-menu[data-v-7846adfa]{background-color:var(--fm-bg-color);border:1px solid var(--fm-border-color);border-radius:var(--fm-border-radius-sm);box-shadow:var(--fm-shadow-xl);min-width:180px;padding:.5rem 0;position:fixed;z-index:1000}.fm-context-item[data-v-7846adfa]{background:none;border:none;color:var(--fm-text-color);cursor:pointer;display:block;font-weight:500;padding:.75rem 1.25rem;text-align:left;transition:all .2s ease;width:100%}.fm-context-item[data-v-7846adfa]:hover{background-color:var(--fm-bg-alt-color);color:var(--fm-primary-color)}.fm-context-item-danger[data-v-7846adfa]:hover{color:var(--fm-danger-color)}.fade-scale-enter-active[data-v-7846adfa],.fade-scale-leave-active[data-v-7846adfa]{transition:all .2s ease-in-out}.fade-scale-enter-from[data-v-7846adfa],.fade-scale-leave-to[data-v-7846adfa]{opacity:0;transform:scale(.97)}",""]);const o=n},795:(e,t,r)=>{const a=Vue;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope),Object.prototype.toString;const n=()=>{};function o(e,t){return function(...r){return new Promise((a,n)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(a).catch(n)})}}function l(e,t={}){let r,o,l=n;const i=e=>{clearTimeout(e),l(),l=n};let c;return n=>{const s=(0,a.toValue)(e),d=(0,a.toValue)(t.maxWait);return r&&i(r),s<=0||void 0!==d&&d<=0?(o&&(i(o),o=void 0),Promise.resolve(n())):new Promise((e,a)=>{l=t.rejectOnCancel?a:e,c=n,d&&!o&&(o=setTimeout(()=>{r&&i(r),o=void 0,e(c())},d)),r=setTimeout(()=>{o&&i(o),o=void 0,e(n())},s)})}}function i(e){const t=Object.create(null);return r=>t[r]||(t[r]=e(r))}const c=/\B([A-Z])/g,s=(i(e=>e.replace(c,"-$1").toLowerCase()),/-(\w)/g);i(e=>e.replace(s,(e,t)=>t?t.toUpperCase():""));function d(e,t=200,r={}){return o(l(t,r),e)}var u={class:"relative h-9 w-full"},m={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"20",height:"24",class:"inline-block absolute ml-2 text-gray-400",role:"presentation",style:{top:"4px"}},f=["value"];const p={__name:"SearchInput",props:["modelValue"],emits:["update:modelValue"],setup:function(e){return function(t,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",u,[((0,a.openBlock)(),(0,a.createElementBlock)("svg",m,r[1]||(r[1]=[(0,a.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)]))),(0,a.createElementVNode)("input",{type:"search",value:e.modelValue,onInput:r[0]||(r[0]=function(e){return t.$emit("update:modelValue",e.target.value)}),placeholder:"Cerca...",class:"appearance-none bg-white dark:bg-gray-800 shadow rounded-full h-8 w-full pl-10 focus:bg-white focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 dark:focus:bg-gray-800",spellcheck:"false","aria-label":"Search",dusk:"search-input"},null,40,f)])}}};var v={size:"md",class:"shrink-0 shadow rounded focus:outline-none ring-primary-200 dark:ring-gray-600 focus:ring bg-primary-500 hover:bg-primary-400 active:bg-primary-600 text-white dark:text-gray-800 inline-flex items-center font-bold px-4 h-9 text-sm"};const g={__name:"ActionButton",setup:function(e){return function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("button",v,[(0,a.renderSlot)(e.$slots,"default")])}}};var b={class:"fm-breadcrumb"},h=["onClick"];const y={__name:"Breadcrumbs",props:["crumbs"],emits:["navigate"],setup:function(e){return function(t,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",b,[(0,a.createElementVNode)("button",{onClick:r[0]||(r[0]=function(e){return t.$emit("navigate","")}),class:"fm-btn-icon",title:"Torna alla radice"},r[1]||(r[1]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 text-gray-500 hover:text-gray-700 transition-colors",viewBox:"0 0 20 20",fill:"currentColor"},[(0,a.createElementVNode)("path",{d:"M10.707 1.293a1 1 0 00-1.414 0L2 8.586V18a1 1 0 001 1h5a1 1 0 001-1v-4h2v4a1 1 0 001 1h5a1 1 0 001-1V8.586l-7.293-7.293z"})],-1)])),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.crumbs,function(e,n){return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:n},[r[2]||(r[2]=(0,a.createElementVNode)("span",{class:"opacity-50"},"/",-1)),(0,a.createElementVNode)("button",{onClick:function(r){return t.$emit("navigate",e.path)},class:"fm-path"},(0,a.toDisplayString)(e.name),9,h)],64)}),128))])}}};var x=r(72),k=r.n(x),w=r(618),E={insert:"head",singleton:!1};k()(w.A,E);w.A.locals;var N=r(262);const V=(0,N.A)(y,[["__scopeId","data-v-ce7a205c"]]);var C={class:"fm-per-page"},B=["value"],A=["value"];const _={__name:"PerPageSelector",props:["modelValue","options"],emits:["update:modelValue"],setup:function(e){return function(t,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",C,[r[1]||(r[1]=(0,a.createElementVNode)("label",{for:"perPage",class:"text-sm text-gray-600 dark:text-gray-400 mr-2"},"Elementi per pagina:",-1)),(0,a.createElementVNode)("select",{id:"perPage",value:e.modelValue,onChange:r[0]||(r[0]=function(e){return t.$emit("update:modelValue",parseInt(e.target.value))}),class:"fm-select"},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.options,function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{key:e,value:e},(0,a.toDisplayString)(e),9,A)}),128))],40,B)])}}};var j=r(448),z={insert:"head",singleton:!1};k()(j.A,z);j.A.locals;const S=(0,N.A)(_,[["__scopeId","data-v-10709cc4"]]);var M={class:"fm-view-switcher"};const I={__name:"ViewSwitcher",props:["modelValue"],emits:["update:modelValue"],setup:function(e){return function(t,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",M,[(0,a.createElementVNode)("button",{onClick:r[0]||(r[0]=function(e){return t.$emit("update:modelValue","grid")}),class:(0,a.normalizeClass)(["fm-view-btn",{active:"grid"===e.modelValue}]),title:"Vista Griglia"},r[2]||(r[2]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5"},[(0,a.createElementVNode)("path",{"fill-rule":"evenodd",d:"M4.25 2A2.25 2.25 0 002 4.25v2.5A2.25 2.25 0 004.25 9h2.5A2.25 2.25 0 009 6.75v-2.5A2.25 2.25 0 006.75 2h-2.5zm0 9A2.25 2.25 0 002 13.25v2.5A2.25 2.25 0 004.25 18h2.5A2.25 2.25 0 009 15.75v-2.5A2.25 2.25 0 006.75 11h-2.5zm9-9A2.25 2.25 0 0011 4.25v2.5A2.25 2.25 0 0013.25 9h2.5A2.25 2.25 0 0018 6.75v-2.5A2.25 2.25 0 0015.75 2h-2.5zM13.25 11a2.25 2.25 0 00-2.25 2.25v2.5a2.25 2.25 0 002.25 2.25h2.5a2.25 2.25 0 002.25-2.25v-2.5a2.25 2.25 0 00-2.25-2.25h-2.5z","clip-rule":"evenodd"})],-1)]),2),(0,a.createElementVNode)("button",{onClick:r[1]||(r[1]=function(e){return t.$emit("update:modelValue","list")}),class:(0,a.normalizeClass)(["fm-view-btn",{active:"list"===e.modelValue}]),title:"Vista Elenco"},r[3]||(r[3]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5"},[(0,a.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10zm0 5.25a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75z","clip-rule":"evenodd"})],-1)]),2)])}}};var O=r(65),P={insert:"head",singleton:!1};k()(O.A,P);O.A.locals;const D=(0,N.A)(I,[["__scopeId","data-v-65774343"]]),T={__name:"Dropzone",emits:["drop"],setup:function(e,t){var r=t.emit,n=(0,a.ref)(!1),o=0;function l(e){e.preventDefault(),++o>0&&(n.value=!0)}function i(e){e.preventDefault(),--o<=0&&(o=0,n.value=!1)}function c(e){e.preventDefault()}function s(e){e.preventDefault(),o=0,n.value=!1,r("drop",Array.from(e.dataTransfer.files))}function d(e){s(e)}return(0,a.onMounted)(function(){window.addEventListener("dragenter",l),window.addEventListener("dragleave",i),window.addEventListener("dragover",c),window.addEventListener("drop",s)}),(0,a.onUnmounted)(function(){window.removeEventListener("dragenter",l),window.removeEventListener("dragleave",i),window.removeEventListener("dragover",c),window.removeEventListener("drop",s)}),function(e,t){return(0,a.openBlock)(),(0,a.createBlock)(a.Transition,{name:"fade-scale"},{default:(0,a.withCtx)(function(){return[(0,a.withDirectives)((0,a.createElementVNode)("div",{class:"fm-dropzone",onDragover:t[0]||(t[0]=(0,a.withModifiers)(function(){},["prevent"])),onDrop:(0,a.withModifiers)(d,["prevent"])},t[1]||(t[1]=[(0,a.createElementVNode)("div",{class:"fm-drop-icon"},"📁",-1),(0,a.createElementVNode)("div",null,"Rilascia i file per caricarli",-1)]),544),[[a.vShow,n.value]])]}),_:1})}}};var $=r(199),L={insert:"head",singleton:!1};k()($.A,L);$.A.locals;const F=(0,N.A)(T,[["__scopeId","data-v-1546f332"]]);var U={key:0,class:"fm-grid"},q={key:1,class:"fm-list"};const R={__name:"LoadingSkeleton",props:["viewMode"],setup:function(e){return function(t,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,["grid"===e.viewMode?((0,a.openBlock)(),(0,a.createElementBlock)("div",U,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(12,function(e){return(0,a.createElementVNode)("div",{key:e,class:"fm-cell fm-skeleton"})}),64))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",q,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(5,function(e){return(0,a.createElementVNode)("div",{key:e,class:"fm-list-item fm-skeleton"})}),64))]))])}}};var H=r(917),G={insert:"head",singleton:!1};k()(H.A,G);H.A.locals;const W=(0,N.A)(R,[["__scopeId","data-v-9b3bed98"]]);var K={"3ds":"001-3ds",ai:"002-ai format",app:"003-app",asp:"004-asp",bat:"005-bat","c++":"006-c++",cs:"007-c sharp",css:"008-css",csv:"009-csv",dat:"010-dat format",dll:"011-dll",doc:"012-doc",docx:"013-docx",dwg:"014-dwg",eml:"015-eml",eps:"016-eps",exe:"017-exe",flv:"018-flv",gif:"019-gif",html:"020-html",ics:"021-ics format",iso:"022-iso",jar:"023-jar",jpeg:"024-jpeg",jpg:"025-jpg",js:"026-js format",log:"027-log format",mdb:"028-mdb",mov:"029-mov",mp3:"030-mp3",mp4:"031-mp4",pdf:"032-pdf",obj:"033-obj",otf:"034-otf",php:"035-php",png:"036-png",ppt:"037-ppt",psd:"038-psd",pub:"039-pub",rar:"040-rar",sql:"041-sql",srt:"042-srt",svg:"043-svg",ttf:"044-ttf",txt:"045-txt",wav:"046-wav format",xls:"047-xls",xlsx:"048-xlsx",xml:"049-xml",zip:"050-zip"};function Z(e){return"file"===e.type&&/\.(jpg|jpeg|png|gif|webp|svg|psd|ai|eps)$/i.test(e.name)}function Y(e){if("folder"===e.type)return null;var t=e.name.split(".").pop().toLowerCase();return"/storage/svg/".concat(K[t]||"default-file",".svg")}function J(e){console.warn("[FileManager] Image failed to load:",e.target.src),e.target.style.display="none"}var X={class:"fm-grid p-4"},Q=["onDblclick","onContextmenu"],ee={class:"fm-content"},te={class:"fm-icon-wrapper"},re=["src"],ae={key:1,class:"fm-icon text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ne={class:"fm-details"},oe={class:"fm-label"},le={key:0,class:"fm-tags"},ie={class:"fm-tag"};const ce={__name:"GridView",props:["items"],emits:["itemDoubleClick","itemContextMenu"],setup:function(e){function t(e){switch(function(e){return e.name.split(".").pop().toLowerCase()}(e)){case"pdf":return"text-red-500";case"doc":case"docx":return"text-sky-500";case"xls":case"xlsx":return"text-green-500";case"zip":case"rar":case"7z":return"text-yellow-600";default:return"text-gray-400"}}function r(e){var t=Y(e);return{maskImage:"url(".concat(t,")"),WebkitMaskImage:"url(".concat(t,")")}}return function(n,o){return(0,a.openBlock)(),(0,a.createElementBlock)("div",X,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.items,function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.path,class:"fm-cell",onDblclick:function(t){return n.$emit("itemDoubleClick",e)},onContextmenu:(0,a.withModifiers)(function(t){return n.$emit("itemContextMenu",t,e)},["prevent"]),tabindex:"0"},[(0,a.createElementVNode)("div",ee,[(0,a.createElementVNode)("div",te,[(0,a.unref)(Z)(e)?((0,a.openBlock)(),(0,a.createElementBlock)("img",{key:0,src:e.url,class:"fm-thumb",onError:o[0]||(o[0]=function(){return(0,a.unref)(J)&&(0,a.unref)(J).apply(void 0,arguments)}),loading:"lazy"},null,40,re)):"folder"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)("svg",ae,o[1]||(o[1]=[(0,a.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"0.75",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:2,class:(0,a.normalizeClass)(["fm-icon icon-mask",t(e)]),style:(0,a.normalizeStyle)(r(e))},null,6))]),(0,a.createElementVNode)("div",ne,[(0,a.createElementVNode)("span",oe,(0,a.toDisplayString)(e.name),1),e.tags?((0,a.openBlock)(),(0,a.createElementBlock)("div",le,[(0,a.createElementVNode)("span",ie,(0,a.toDisplayString)(e.tags?e.tags:" - "),1)])):(0,a.createCommentVNode)("",!0)])])],40,Q)}),128))])}}};var se=r(139),de={insert:"head",singleton:!1};k()(se.A,de);se.A.locals;const ue=(0,N.A)(ce,[["__scopeId","data-v-6b2a1466"]]);function me(e){if(0===e||!e)return"-";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]}function fe(e){return e?new Date(1e3*e).toLocaleString():"-"}var pe={class:"fm-list"},ve=["onDblclick"],ge={class:"fm-list-name"},be=["src"],he={key:1,class:"fm-list-icon text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ye={key:3},xe=["value"],ke={key:4},we={class:"fm-list-tags"},Ee={class:"fm-list-size"},Ne={class:"fm-list-modified"},Ve={class:"fm-list-actions"},Ce=["onClick"],Be=["onClick"],Ae=["onClick"],_e=["onClick"];const je={__name:"ListView",props:["items","editingItem","newItemName"],emits:["update:newItemName","itemDoubleClick","renameItem","cancelEditing","downloadItem","startEditing","deleteItem","openAssignTypeModal","assignType"],setup:function(e,t){t.emit;var r=e,n=(0,a.ref)(null);function o(e){switch(function(e){return e.name.split(".").pop().toLowerCase()}(e)){case"pdf":return"text-red-500";case"doc":case"docx":return"text-sky-500";case"xls":case"xlsx":return"text-green-500";case"zip":case"rar":case"7z":return"text-yellow-600";default:return"text-gray-400"}}function l(e){var t=Y(e);return{maskImage:"url(".concat(t,")"),WebkitMaskImage:"url(".concat(t,")")}}return(0,a.watch)(function(){return r.editingItem},function(e){e&&(0,a.nextTick)(function(){var e;return null===(e=n.value)||void 0===e?void 0:e.focus()})}),function(t,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",pe,[r[10]||(r[10]=(0,a.createStaticVNode)('<div class="fm-list-header bg-gray-50 dark:bg-gray-800" data-v-5267c09e><div class="fm-list-name" data-v-5267c09e>Nome</div><div class="fm-list-tags" data-v-5267c09e>Tipo</div><div class="fm-list-size" data-v-5267c09e>Dimensione</div><div class="fm-list-modified" data-v-5267c09e>Ultima Modifica</div><div class="fm-list-actions" data-v-5267c09e>Azioni</div></div>',1)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.items,function(i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:i.path,class:"fm-list-item",onDblclick:function(e){return t.$emit("itemDoubleClick",i)}},[(0,a.createElementVNode)("div",ge,[(0,a.unref)(Z)(i)?((0,a.openBlock)(),(0,a.createElementBlock)("img",{key:0,src:i.url,class:"fm-list-thumb",onError:r[0]||(r[0]=function(){return(0,a.unref)(J)&&(0,a.unref)(J).apply(void 0,arguments)}),loading:"lazy"},null,40,be)):"folder"===i.type?((0,a.openBlock)(),(0,a.createElementBlock)("svg",he,r[5]||(r[5]=[(0,a.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"0.75",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:2,class:(0,a.normalizeClass)(["fm-list-icon icon-mask",o(i)]),style:(0,a.normalizeStyle)(l(i))},null,6)),e.editingItem&&e.editingItem.path===i.path?((0,a.openBlock)(),(0,a.createElementBlock)("div",ye,[(0,a.createElementVNode)("input",{type:"text",value:e.newItemName,onInput:r[1]||(r[1]=function(e){return t.$emit("update:newItemName",e.target.value)}),onKeyup:[r[2]||(r[2]=(0,a.withKeys)(function(e){return t.$emit("renameItem")},["enter"])),r[4]||(r[4]=(0,a.withKeys)(function(e){return t.$emit("cancelEditing")},["esc"]))],onBlur:r[3]||(r[3]=function(e){return t.$emit("cancelEditing")}),class:"fm-inline-rename-input",ref_for:!0,ref_key:"inlineRenameInput",ref:n},null,40,xe)])):((0,a.openBlock)(),(0,a.createElementBlock)("span",ke,(0,a.toDisplayString)(i.name),1))]),(0,a.createElementVNode)("div",we,(0,a.toDisplayString)(i.tags?i.tags:" - "),1),(0,a.createElementVNode)("div",Ee,(0,a.toDisplayString)((0,a.unref)(me)(i.size)),1),(0,a.createElementVNode)("div",Ne,(0,a.toDisplayString)((0,a.unref)(fe)(i.last_modified)),1),(0,a.createElementVNode)("div",Ve,["file"===i.type?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:function(e){return t.$emit("downloadItem",i)},class:"fm-action-btn",title:"Download"},r[6]||(r[6]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5"},[(0,a.createElementVNode)("path",{d:"M10.75 2.75a.75.75 0 00-1.5 0v8.614L6.295 8.235a.75.75 0 10-1.09 1.03l4.25 4.5a.75.75 0 001.09 0l4.25-4.5a.75.75 0 00-1.09-1.03l-2.955 3.129V2.75z"}),(0,a.createElementVNode)("path",{d:"M3.5 12.75a.75.75 0 00-1.5 0v2.5A2.75 2.75 0 004.75 18h10.5A2.75 2.75 0 0018 15.25v-2.5a.75.75 0 00-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5z"})],-1)]),8,Ce)):(0,a.createCommentVNode)("",!0),"file"===i.type?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:1,onClick:function(e){return t.$emit("openAssignTypeModal",i)},class:"fm-action-btn",title:"Assegna Tipo"},r[7]||(r[7]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[(0,a.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),(0,a.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 6h.008v.008H6V6Z"})],-1)]),8,Be)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("button",{onClick:function(e){return t.$emit("startEditing",i)},class:"fm-action-btn",title:"Rinomina"},r[8]||(r[8]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5"},[(0,a.createElementVNode)("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),(0,a.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z","clip-rule":"evenodd"})],-1)]),8,Ae),(0,a.createElementVNode)("button",{onClick:function(e){return t.$emit("deleteItem",i)},class:"fm-action-btn fm-action-btn-danger",title:"Elimina"},r[9]||(r[9]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5"},[(0,a.createElementVNode)("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.58.22-2.365.468a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193v-.443A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z","clip-rule":"evenodd"})],-1)]),8,_e)])],40,ve)}),128))])}}};var ze=r(90),Se={insert:"head",singleton:!1};k()(ze.A,Se);ze.A.locals;const Me=(0,N.A)(je,[["__scopeId","data-v-5267c09e"]]);var Ie={class:"fm-pagination-nova"},Oe={class:"flex justify-between items-center"},Pe=["disabled"],De={class:"text-xs px-4"},Te=["disabled"];const $e={__name:"Pagination",props:["pagination"],emits:["changePage"],setup:function(e){var t=e,r=(0,a.computed)(function(){return t.pagination&&0!==t.pagination.total?(t.pagination.currentPage-1)*t.pagination.perPage+1:0}),n=(0,a.computed)(function(){return t.pagination&&0!==t.pagination.total?Math.min(t.pagination.currentPage*t.pagination.perPage,t.pagination.total):0});return function(t,o){return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ie,[(0,a.createElementVNode)("nav",Oe,[(0,a.createElementVNode)("button",{disabled:e.pagination.currentPage<=1,onClick:o[0]||(o[0]=function(r){return t.$emit("changePage",e.pagination.currentPage-1)}),class:(0,a.normalizeClass)(["text-xs font-bold py-3 px-4 focus:outline-none rounded-bl-lg focus:ring focus:ring-inset",e.pagination.currentPage<=1?"text-gray-300 dark:text-gray-600":"text-primary-500 hover:text-primary-400 active:text-primary-600"]),rel:"prev",dusk:"previous"}," Precedente ",10,Pe),(0,a.createElementVNode)("span",De,(0,a.toDisplayString)(r.value)+"-"+(0,a.toDisplayString)(n.value)+" di "+(0,a.toDisplayString)(e.pagination.total),1),(0,a.createElementVNode)("button",{disabled:e.pagination.currentPage>=e.pagination.lastPage,onClick:o[1]||(o[1]=function(r){return t.$emit("changePage",e.pagination.currentPage+1)}),class:(0,a.normalizeClass)(["text-xs font-bold py-3 px-4 focus:outline-none rounded-br-lg focus:ring focus:ring-inset",e.pagination.currentPage>=e.pagination.lastPage?"text-gray-300 dark:text-gray-600":"text-primary-500 hover:text-primary-400 active:text-primary-600"]),rel:"next",dusk:"next"}," Avanti ",10,Te)])])}}};var Le=r(94),Fe={insert:"head",singleton:!1};k()(Le.A,Fe);Le.A.locals;const Ue=(0,N.A)($e,[["__scopeId","data-v-9a4a7a34"]]),qe={__name:"ContextMenu",props:["menu"],emits:["rename","download","delete","assignType"],setup:function(e){return function(t,r){return(0,a.openBlock)(),(0,a.createBlock)(a.Transition,{name:"fade-scale"},{default:(0,a.withCtx)(function(){return[(0,a.createElementVNode)("div",{class:"fm-context-menu",style:(0,a.normalizeStyle)({top:e.menu.y+"px",left:e.menu.x+"px"})},[(0,a.createElementVNode)("button",{onClick:r[0]||(r[0]=function(e){return t.$emit("rename")}),class:"fm-context-item"},"Rinomina"),"file"===e.menu.item.type?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:r[1]||(r[1]=function(r){return t.$emit("download",e.menu.item)}),class:"fm-context-item"},"Download")):(0,a.createCommentVNode)("",!0),"file"===e.menu.item.type?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:1,onClick:r[2]||(r[2]=function(r){return t.$emit("assignType",e.menu.item)}),class:"fm-context-item"},"Assegna Tipo")):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("button",{onClick:r[3]||(r[3]=function(e){return t.$emit("delete")}),class:"fm-context-item fm-context-item-danger"},"Elimina")],4)]}),_:1})}}};var Re=r(643),He={insert:"head",singleton:!1};k()(Re.A,He);Re.A.locals;const Ge=(0,N.A)(qe,[["__scopeId","data-v-7846adfa"]]);var We={class:"relative mx-auto z-20 max-w-2xl text-left"},Ke={class:"space-y-6"},Ze={class:"px-8"},Ye={class:"bg-gray-100 dark:bg-gray-700 px-6 py-3 flex",style:{"margin-top":"30px"}},Je={class:"flex items-center ml-auto"};const Xe={__name:"CreateFolderModal",props:["show","modelValue"],emits:["close","create","update:modelValue"],setup:function(e,t){var r=t.emit,n=e,o=r,l=(0,a.ref)(null);(0,a.watch)(function(){return n.show},function(e){e&&(0,a.nextTick)(function(){var e;null===(e=l.value)||void 0===e||e.focus()})});var i=(0,a.computed)({get:function(){return n.modelValue},set:function(e){return o("update:modelValue",e)}}),c=function(){o("create")};return function(t,r){return e.show?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal fixed inset-0 z-[60] px-3 md:px-0 py-3 md:py-6 overflow-x-hidden overflow-y-auto",style:{"background-color":"rgba(0, 0, 0, 0.5)"},role:"dialog",onClick:r[2]||(r[2]=(0,a.withModifiers)(function(e){return t.$emit("close")},["self"]))},[(0,a.createElementVNode)("div",We,[(0,a.createElementVNode)("form",{onSubmit:(0,a.withModifiers)(c,["prevent"]),autocomplete:"off",class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},[(0,a.createElementVNode)("div",Ke,[r[4]||(r[4]=(0,a.createElementVNode)("h3",{class:"uppercase tracking-wide font-bold text-xs border-b border-gray-100 dark:border-gray-700 py-4 px-8"},"Crea Nuova Cartella",-1)),(0,a.createElementVNode)("div",Ze,[r[3]||(r[3]=(0,a.createElementVNode)("label",{for:"folderName",class:"block text-sm font-medium text-gray-700 dark:text-gray-200"},"Nome Cartella",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"folderName","onUpdate:modelValue":r[0]||(r[0]=function(e){return i.value=e}),class:"mt-1 block w-full form-control form-input form-input-bordered",required:"",ref_key:"folderNameInput",ref:l},null,512),[[a.vModelText,i.value]])])]),(0,a.createElementVNode)("div",Ye,[(0,a.createElementVNode)("div",Je,[(0,a.createElementVNode)("button",{type:"button",onClick:r[1]||(r[1]=function(e){return t.$emit("close")}),class:"ml-auto mr-3 appearance-none bg-transparent font-bold text-gray-400 hover:text-gray-300 active:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 dark:active:text-gray-600 dark:hover:bg-gray-800 cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3"}," Annulla "),r[5]||(r[5]=(0,a.createElementVNode)("button",{type:"submit",class:"border text-left appearance-none cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 relative disabled:cursor-not-allowed inline-flex items-center justify-center shadow h-9 px-3 bg-primary-500 border-primary-500 hover:[&:not(:disabled)]:bg-primary-400 hover:[&:not(:disabled)]:border-primary-400 text-white dark:text-gray-900"}," Crea Cartella ",-1))])])],32)])])):(0,a.createCommentVNode)("",!0)}}};var Qe={class:"relative mx-auto z-20 max-w-2xl text-left"},et={class:"space-y-6"},tt={class:"px-8"},rt=["value"],at={class:"bg-gray-100 dark:bg-gray-700 px-6 py-3 flex",style:{"margin-top":"30px"}},nt={class:"flex items-center ml-auto"};const ot={__name:"RenameModal",props:["show","modelValue"],emits:["close","rename","update:modelValue"],setup:function(e,t){t.emit;var r=e,n=(0,a.ref)(null);return(0,a.watch)(function(){return r.show},function(e){e&&(0,a.nextTick)(function(){var e,t;null===(e=n.value)||void 0===e||e.focus(),null===(t=n.value)||void 0===t||t.select()})}),function(t,r){return e.show?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal fixed inset-0 z-[60] px-3 md:px-0 py-3 md:py-6 overflow-x-hidden overflow-y-auto",style:{"background-color":"rgba(0, 0, 0, 0.5)"},role:"dialog",onClick:r[3]||(r[3]=(0,a.withModifiers)(function(e){return t.$emit("close")},["self"]))},[(0,a.createElementVNode)("div",Qe,[(0,a.createElementVNode)("form",{onSubmit:r[2]||(r[2]=(0,a.withModifiers)(function(e){return t.$emit("rename")},["prevent"])),autocomplete:"off",class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},[(0,a.createElementVNode)("div",et,[r[5]||(r[5]=(0,a.createElementVNode)("h3",{class:"uppercase tracking-wide font-bold text-xs border-b border-gray-100 dark:border-gray-700 py-4 px-8"},"Rinomina Elemento",-1)),(0,a.createElementVNode)("div",tt,[r[4]||(r[4]=(0,a.createElementVNode)("label",{for:"itemName",class:"block text-sm font-medium text-gray-700 dark:text-gray-200"},"Nuovo Nome",-1)),(0,a.createElementVNode)("input",{type:"text",id:"itemName",value:e.modelValue,onInput:r[0]||(r[0]=function(e){return t.$emit("update:modelValue",e.target.value)}),class:"mt-1 block w-full form-control form-input form-input-bordered",required:"",ref_key:"renameInput",ref:n},null,40,rt)])]),(0,a.createElementVNode)("div",at,[(0,a.createElementVNode)("div",nt,[(0,a.createElementVNode)("button",{type:"button",onClick:r[1]||(r[1]=function(e){return t.$emit("close")}),class:"ml-auto mr-3 appearance-none bg-transparent font-bold text-gray-400 hover:text-gray-300 active:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 dark:active:text-gray-600 dark:hover:bg-gray-800 cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3"}," Annulla "),r[6]||(r[6]=(0,a.createElementVNode)("button",{type:"submit",class:"border text-left appearance-none cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 relative disabled:cursor-not-allowed inline-flex items-center justify-center shadow h-9 px-3 bg-primary-500 border-primary-500 hover:[&:not(:disabled)]:bg-primary-400 hover:[&:not(:disabled)]:border-primary-400 text-white dark:text-gray-900"}," Rinomina ",-1))])])],32)])])):(0,a.createCommentVNode)("",!0)}}};var lt={class:"relative mx-auto z-20 max-w-2xl text-left"},it={class:"space-y-6"},ct={class:"px-8"},st={class:"bg-gray-100 dark:bg-gray-700 px-6 py-3 flex",style:{"margin-top":"30px"}},dt={class:"flex items-center ml-auto"};const ut={__name:"DeleteModal",props:["show","itemName"],emits:["close","delete"],setup:function(e){return function(t,r){return e.show?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal fixed inset-0 z-[60] px-3 md:px-0 py-3 md:py-6 overflow-x-hidden overflow-y-auto",style:{"background-color":"rgba(0, 0, 0, 0.5)"},role:"dialog",onClick:r[2]||(r[2]=(0,a.withModifiers)(function(e){return t.$emit("close")},["self"]))},[(0,a.createElementVNode)("div",lt,[(0,a.createElementVNode)("form",{onSubmit:r[1]||(r[1]=(0,a.withModifiers)(function(e){return t.$emit("delete")},["prevent"])),autocomplete:"off",class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},[(0,a.createElementVNode)("div",it,[r[7]||(r[7]=(0,a.createElementVNode)("h3",{class:"uppercase tracking-wide font-bold text-xs border-b border-gray-100 dark:border-gray-700 py-4 px-8"},"Conferma Eliminazione",-1)),(0,a.createElementVNode)("p",ct,[r[3]||(r[3]=(0,a.createTextVNode)('Sei sicuro di voler eliminare "')),(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.itemName),1),r[4]||(r[4]=(0,a.createTextVNode)('"?')),r[5]||(r[5]=(0,a.createElementVNode)("br",null,null,-1)),r[6]||(r[6]=(0,a.createTextVNode)("L'azione non è reversibile."))])]),(0,a.createElementVNode)("div",st,[(0,a.createElementVNode)("div",dt,[(0,a.createElementVNode)("button",{type:"button",onClick:r[0]||(r[0]=function(e){return t.$emit("close")}),class:"ml-auto mr-3 appearance-none bg-transparent font-bold text-gray-400 hover:text-gray-300 active:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 dark:active:text-gray-600 dark:hover:bg-gray-800 cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3"}," Annulla "),r[8]||(r[8]=(0,a.createElementVNode)("button",{type:"submit",class:"border text-left appearance-none cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 relative disabled:cursor-not-allowed inline-flex items-center justify-center shadow h-9 px-3 bg-red-500 border-red-500 hover:[&:not(:disabled)]:bg-red-400 hover:[&:not(:disabled)]:border-red-400 text-white"}," Sì, Elimina ",-1))])])],32)])])):(0,a.createCommentVNode)("",!0)}}};var mt={class:"relative mx-auto z-20 max-w-2xl text-left"},ft={class:"space-y-6"},pt={class:"px-8"},vt={class:"bg-gray-100 dark:bg-gray-700 px-6 py-3 flex",style:{"margin-top":"30px"}},gt={class:"flex items-center ml-auto"};const bt={__name:"AssignTypeModal",props:["show","modelValue"],emits:["close","assign","update:modelValue"],setup:function(e,t){var r=t.emit,n=r,o=(0,a.ref)("offerta"),l=function(){n("assign",o.value),n("close")};return function(t,r){return e.show?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal fixed inset-0 z-[60] px-3 md:px-0 py-3 md:py-6 overflow-x-hidden overflow-y-auto",style:{"background-color":"rgba(0, 0, 0, 0.5)"},role:"dialog",onClick:r[2]||(r[2]=(0,a.withModifiers)(function(e){return t.$emit("close")},["self"]))},[(0,a.createElementVNode)("div",mt,[(0,a.createElementVNode)("form",{onSubmit:(0,a.withModifiers)(l,["prevent"]),autocomplete:"off",class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},[(0,a.createElementVNode)("div",ft,[r[5]||(r[5]=(0,a.createElementVNode)("h3",{class:"uppercase tracking-wide font-bold text-xs border-b border-gray-100 dark:border-gray-700 py-4 px-8"},"Assegna Tipo",-1)),(0,a.createElementVNode)("div",pt,[r[4]||(r[4]=(0,a.createElementVNode)("label",{for:"type",class:"block text-sm font-medium text-gray-700 dark:text-gray-200"},"Tipo",-1)),(0,a.withDirectives)((0,a.createElementVNode)("select",{id:"type","onUpdate:modelValue":r[0]||(r[0]=function(e){return o.value=e}),class:"mt-1 block w-full form-control form-input form-input-bordered",required:""},r[3]||(r[3]=[(0,a.createElementVNode)("option",{value:"offerta"},"Offerta",-1),(0,a.createElementVNode)("option",{value:"offerta_editabile"},"Offerta Editabile",-1),(0,a.createElementVNode)("option",{value:"test"},"Test",-1)]),512),[[a.vModelSelect,o.value]])])]),(0,a.createElementVNode)("div",vt,[(0,a.createElementVNode)("div",gt,[(0,a.createElementVNode)("button",{type:"button",onClick:r[1]||(r[1]=function(e){return t.$emit("close")}),class:"ml-auto mr-3 appearance-none bg-transparent font-bold text-gray-400 hover:text-gray-300 active:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 dark:active:text-gray-600 dark:hover:bg-gray-800 cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3"}," Annulla "),r[6]||(r[6]=(0,a.createElementVNode)("button",{type:"submit",class:"border text-left appearance-none cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 relative disabled:cursor-not-allowed inline-flex items-center justify-center shadow h-9 px-3 bg-primary-500 border-primary-500 hover:[&:not(:disabled)]:bg-primary-400 hover:[&:not(:disabled)]:border-primary-400 text-white dark:text-gray-900"}," Assegna Tipo ",-1))])])],32)])])):(0,a.createCommentVNode)("",!0)}}};var ht=r(832),yt={insert:"head",singleton:!1};k()(ht.A,yt);ht.A.locals;const xt=(0,N.A)(bt,[["__scopeId","data-v-449da2c4"]]);function kt(e){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,l,i=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=o.call(r)).done)&&(i.push(a.value),i.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Et(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Et(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function Nt(){var e,t,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function o(r,a,n,o){var c=a&&a.prototype instanceof i?a:i,s=Object.create(c.prototype);return Vt(s,"_invoke",function(r,a,n){var o,i,c,s=0,d=n||[],u=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,i=0,c=e,m.n=r,l}};function f(r,a){for(i=r,c=a,t=0;!u&&s&&!n&&t<d.length;t++){var n,o=d[t],f=m.p,p=o[2];r>3?(n=p===a)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=f&&((n=r<2&&f<o[1])?(i=0,m.v=a,m.n=o[1]):f<p&&(n=r<3||o[0]>a||a>p)&&(o[4]=r,o[5]=a,m.n=p,i=0))}if(n||r>1)return l;throw u=!0,a}return function(n,d,p){if(s>1)throw TypeError("Generator is already running");for(u&&1===d&&f(d,p),i=d,c=p;(t=i<2?e:c)||!u;){o||(i?i<3?(i>1&&(m.n=-1),f(i,c)):m.n=c:m.v=c);try{if(s=2,o){if(i||(n="next"),t=o[n]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+n+"' method"),i=1);o=e}else if((t=(u=m.n<0)?c:r.call(a,m))!==l)break}catch(t){o=e,i=1,c=t}finally{s=1}}return{value:t,done:u}}}(r,n,o),!0),s}var l={};function i(){}function c(){}function s(){}t=Object.getPrototypeOf;var d=[][a]?t(t([][a]())):(Vt(t={},a,function(){return this}),t),u=s.prototype=i.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Vt(e,n,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=s,Vt(u,"constructor",s),Vt(s,"constructor",c),c.displayName="GeneratorFunction",Vt(s,n,"GeneratorFunction"),Vt(u),Vt(u,n,"Generator"),Vt(u,a,function(){return this}),Vt(u,"toString",function(){return"[object Generator]"}),(Nt=function(){return{w:o,m}})()}function Vt(e,t,r,a){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}Vt=function(e,t,r,a){if(t)n?n(e,t,{value:r,enumerable:!a,configurable:!a,writable:!a}):e[t]=r;else{var o=function(t,r){Vt(e,t,function(e){return this._invoke(t,r,e)})};o("next",0),o("throw",1),o("return",2)}},Vt(e,t,r,a)}function Ct(e,t,r,a,n,o,l){try{var i=e[o](l),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(a,n)}function Bt(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var o=e.apply(t,r);function l(e){Ct(o,a,n,l,i,"next",e)}function i(e){Ct(o,a,n,l,i,"throw",e)}l(void 0)})}}function At(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function _t(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=kt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=kt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jt={class:"font-normal text-xl md:text-xl mb-3 flex items-center"},zt={class:"flex gap-2 mb-6"},St={class:"relative h-9 w-full md:w-1/3 md:shrink-0"},Mt={class:"inline-flex items-center gap-2 ml-auto"},It={class:"fm-header"},Ot={class:"fm-actions"},Pt={key:1,class:"p-4"},Dt={key:2},Tt={key:3,class:"flex flex-col items-center justify-center p-8 bg-gray-50 dark:bg-gray-800 border border-dashed border-gray-200 dark:border-gray-700 rounded-lg space-y-4"};const $t={__name:"Tool",props:["resourceName","resourceId","fields","resource"],setup:function(e){var t,r=e;console.log(r);var n=null===(t=r.resource.fields)||void 0===t?void 0:t.find(function(e){return"resource-file-manager"===e.component}),o=(null==n?void 0:n.label)||"Gestione File",l=(0,a.ref)(!0),i=(0,a.ref)([]),c=(0,a.ref)([]),s=(0,a.ref)(""),u=(0,a.ref)(null),m=(0,a.ref)(15),f=[5,15,30,50,100],v=(0,a.ref)(!1),b=(0,a.ref)(""),h=(0,a.ref)("grid"),y=(0,a.ref)(!1),x=(0,a.ref)(""),k=(0,a.ref)(!1),w=(0,a.ref)(""),E=(0,a.ref)(!1),N=(0,a.ref)(!1),C=(0,a.ref)("offerta"),B=(0,a.ref)({show:!1,x:0,y:0,item:null}),A=(0,a.ref)(null),_=(0,a.ref)(null),j=(0,a.computed)(function(){if(!b.value)return i.value;var e=b.value.toLowerCase();return i.value.filter(function(t){return t.name.toLowerCase().includes(e)})}),z=(0,a.computed)(function(){return j.value}),M=(0,a.computed)(function(){return"grid"===h.value?ue:Me}),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?At(Object(r),!0).forEach(function(t){_t(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({resourceName:r.resourceName,resourceId:r.resourceId,path:s.value},e)},O=function(){var e=Bt(Nt().m(function e(){var t,r,a;return Nt().w(function(e){for(;;)switch(e.p=e.n){case 0:return l.value=!0,e.p=1,e.n=2,Nova.request().get("/api/rfm/list",{params:I({page:(null===(t=u.value)||void 0===t?void 0:t.currentPage)||1,perPage:m.value})});case 2:r=e.v,i.value=r.data.files.sort(function(e,t){return e.type===t.type?e.name.localeCompare(t.name):"folder"===e.type?-1:1}),c.value=r.data.breadcrumbs,u.value=r.data.pagination,e.n=4;break;case 3:e.p=3,a=e.v,console.error("[FileManager] Error fetching files:",a),Nova.error("Impossibile caricare i file.");case 4:return e.p=4,l.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),P=(d(O,300),function(e){s.value=e,u.value.currentPage=1,O()}),T=function(e){e<1||e>u.value.lastPage||(u.value.currentPage=e,O())},$=function(){var e=Bt(Nt().m(function e(t){var r;return Nt().w(function(e){for(;;)switch(e.p=e.n){case 0:if("folder"!==t.type){e.n=1;break}P(t.path),e.n=4;break;case 1:return e.p=1,e.n=2,Nova.request().get("/api/rfm/generate-temp-link",{params:I({path:t.path})});case 2:r=e.v,window.open(r.data.url,"_blank"),e.n=4;break;case 3:e.p=3,e.v,Nova.error("Impossibile generare il link per il file.");case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}(),L=function(e,t){for(var r=e,a=1,n=e.lastIndexOf("."),o=-1!==n?e.substring(0,n):e,l=-1!==n?e.substring(n):"";t.includes(r);)r="".concat(o," (").concat(a,")").concat(l),a++;return r},U=function(){var e=Bt(Nt().m(function e(){var t,r;return Nt().w(function(e){for(;;)switch(e.p=e.n){case 0:if(x.value){e.n=1;break}return e.a(2,Nova.error("Il nome della cartella non può essere vuoto."));case 1:return t=i.value.filter(function(e){return"folder"===e.type}).map(function(e){return e.name}),r=L(x.value,t),l.value=!0,y.value=!1,e.p=2,e.n=3,Nova.request().post("/api/rfm/create-folder",I({folderName:r}));case 3:return Nova.success("Cartella creata con successo!"),x.value="",e.n=4,O();case 4:e.n=6;break;case 5:e.p=5,e.v,Nova.error("Errore durante la creazione della cartella.");case 6:return e.p=6,l.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[2,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Bt(Nt().m(function e(){var t,a,n,o=arguments;return Nt().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=(o.length>0&&void 0!==o[0]?o[0]:null)||A.value||B.value.item,w.value){e.n=1;break}return e.a(2,Nova.error("Il nuovo nome non può essere vuoto."));case 1:if(t){e.n=2;break}return e.a(2);case 2:return a=i.value.filter(function(e){return e.type===t.type&&e.path!==t.path}).map(function(e){return e.name}),n=L(w.value,a),l.value=!0,k.value=!1,A.value=null,e.p=3,e.n=4,Nova.request().post("/api/rfm/rename",{path:t.path,newName:n,resourceName:r.resourceName,resourceId:r.resourceId});case 4:return Nova.success("Elemento rinominato con successo!"),e.n=5,O();case 5:e.n=7;break;case 6:e.p=6,e.v,Nova.error("Errore durante la rinomina.");case 7:return e.p=7,l.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[3,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Bt(Nt().m(function e(){var t,a=arguments;return Nt().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=(a.length>0&&void 0!==a[0]?a[0]:null)||B.value.item){e.n=1;break}return e.a(2);case 1:return l.value=!0,E.value=!1,e.p=2,e.n=3,Nova.request().post("/api/rfm/delete",{path:t.path,type:t.type,resourceName:r.resourceName,resourceId:r.resourceId});case 3:return Nova.success("Elemento eliminato con successo!"),e.n=4,O();case 4:e.n=6;break;case 5:e.p=5,e.v,Nova.error("Errore durante l'eliminazione.");case 6:return e.p=6,l.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[2,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),H=function(e){var t=e||B.value.item;if(t&&"file"===t.type){var r=new URLSearchParams(I({path:t.path})),a="/api/rfm/download?".concat(r.toString()),n=document.createElement("a");n.href=a,n.setAttribute("download",t.name),document.body.appendChild(n),n.click(),document.body.removeChild(n),Q()}},G=function(){var e=Bt(Nt().m(function e(t){var a;return Nt().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a=B.value.item){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,Nova.request().post("/api/rfm/assign-type",{path:a.path,type:t,resourceName:r.resourceName,resourceId:r.resourceId});case 2:return Nova.success("Tipo assegnato con successo!"),e.n=3,O();case 3:e.n=5;break;case 4:e.p=4,e.v,Nova.error("Errore durante l'assegnazione del tipo.");case 5:return e.a(2)}},e,null,[[1,4]])}));return function(t){return e.apply(this,arguments)}}(),K=function(){return _.value.click()},Z=function(e){return J(e.target.files)},Y=function(e){v.value=!1,J(e.dataTransfer.files)},J=function(e){if(e.length){l.value=!0;var t=i.value.filter(function(e){return"file"===e.type}).map(function(e){return e.name}),r=Array.from(e).map(function(e){var r=L(e.name,t),a=r!==e.name?new File([e],r,{type:e.type}):e,n=new FormData;return n.append("file",a),Object.entries(I()).forEach(function(e){var t=wt(e,2),r=t[0],a=t[1];return n.append(r,a)}),Nova.request().post("/api/rfm/upload",n)});Promise.all(r).then(function(){Nova.success("File caricati con successo!"),O()}).catch(function(e){console.error("[FileManager] Upload error:",e),Nova.error("Errore durante il caricamento di uno o più file."),l.value=!1})}},X=function(e,t){B.value={show:!0,x:e.clientX,y:e.clientY,item:t}},Q=function(){B.value.show&&(B.value.show=!1)},ee=function(e){B.value.item=e,N.value=!0},te=function(e){var t=e||B.value.item;w.value=t.name,k.value=!0,Q()},re=function(e){B.value.item=e||B.value.item,E.value=!0,Q()},ae=function(e){w.value=e.name,A.value=e},ne=function(){A.value=null,w.value=""};return(0,a.watch)(m,function(){u.value.currentPage=1,O()}),(0,a.watch)(b,function(){}),(0,a.onMounted)(function(){O()}),function(e,t){var r;return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"fm-wrapper",onClick:Q},[(0,a.createElementVNode)("h1",jt,(0,a.toDisplayString)((0,a.unref)(o)),1),(0,a.createElementVNode)("div",zt,[(0,a.createElementVNode)("div",St,[(0,a.createVNode)(p,{modelValue:b.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return b.value=e})},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Mt,[(0,a.createVNode)(g,{onClick:t[1]||(t[1]=function(e){return y.value=!0}),dusk:"create-folder-button"},{default:(0,a.withCtx)(function(){return t[14]||(t[14]=[(0,a.createElementVNode)("span",{class:"md:inline-block"},"Crea Cartella",-1),(0,a.createElementVNode)("span",{class:"inline-block md:hidden"},"Crea",-1)])}),_:1,__:[14]}),(0,a.createVNode)(g,{onClick:K,dusk:"upload-file-button"},{default:(0,a.withCtx)(function(){return t[15]||(t[15]=[(0,a.createElementVNode)("span",{class:"md:inline-block"},"Carica File",-1),(0,a.createElementVNode)("span",{class:"inline-block md:hidden"},"Carica",-1)])}),_:1,__:[15]})])]),(0,a.createElementVNode)("div",{class:"fm-container",onDragover:t[5]||(t[5]=(0,a.withModifiers)(function(e){return v.value=!0},["prevent"])),onDragleave:t[6]||(t[6]=(0,a.withModifiers)(function(e){return v.value=!1},["prevent"])),onDrop:(0,a.withModifiers)(Y,["prevent"])},[(0,a.createElementVNode)("header",It,[(0,a.createVNode)(V,{crumbs:c.value,onNavigate:P},null,8,["crumbs"]),(0,a.createElementVNode)("div",Ot,[(0,a.createVNode)(S,{modelValue:m.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return m.value=e}),options:f},null,8,["modelValue"]),(0,a.createVNode)(D,{modelValue:h.value,"onUpdate:modelValue":t[3]||(t[3]=function(e){return h.value=e})},null,8,["modelValue"])])]),v.value?((0,a.openBlock)(),(0,a.createBlock)(F,{key:0})):(0,a.createCommentVNode)("",!0),l.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Pt,[(0,a.createVNode)(W,{"view-mode":h.value},null,8,["view-mode"])])):z.value.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",Dt,[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(M.value),{items:z.value,"editing-item":A.value,"new-item-name":w.value,"onUpdate:newItemName":t[4]||(t[4]=function(e){return w.value=e}),onItemDoubleClick:$,onItemContextMenu:X,onRenameItem:q,onCancelEditing:ne,onDownloadItem:H,onStartEditing:ae,onDeleteItem:re,onOpenAssignTypeModal:ee},null,40,["items","editing-item","new-item-name"]))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Tt,[t[17]||(t[17]=(0,a.createElementVNode)("h3",{class:"text-2xl font-semibold text-gray-700 dark:text-gray-200"}," Cartella vuota ",-1)),(0,a.createElementVNode)("p",{class:"text-sm text-gray-500 dark:text-gray-400"},[t[16]||(t[16]=(0,a.createTextVNode)(" Trascina qui i file o ")),(0,a.createElementVNode)("button",{onClick:K,class:"text-sky-500 hover:underline font-medium focus:outline-none"}," seleziona manualmente ")])])),u.value&&u.value.total>0?((0,a.openBlock)(),(0,a.createBlock)(Ue,{key:4,pagination:u.value,onChangePage:T},null,8,["pagination"])):(0,a.createCommentVNode)("",!0)],32),(0,a.createElementVNode)("input",{type:"file",onChange:Z,ref_key:"fileInput",ref:_,class:"hidden",multiple:""},null,544),B.value.show?((0,a.openBlock)(),(0,a.createBlock)(Ge,{key:0,menu:B.value,onRename:te,onDownload:H,onDelete:re,onAssignType:ee},null,8,["menu"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(Xe,{show:y.value,modelValue:x.value,"onUpdate:modelValue":t[7]||(t[7]=function(e){return x.value=e}),onClose:t[8]||(t[8]=function(e){return y.value=!1}),onCreate:U},null,8,["show","modelValue"]),(0,a.createVNode)(ot,{show:k.value,modelValue:w.value,"onUpdate:modelValue":t[9]||(t[9]=function(e){return w.value=e}),onClose:t[10]||(t[10]=function(e){return k.value=!1}),onRename:q},null,8,["show","modelValue"]),(0,a.createVNode)(ut,{show:E.value,"item-name":null===(r=B.value.item)||void 0===r?void 0:r.name,onClose:t[11]||(t[11]=function(e){return E.value=!1}),onDelete:R},null,8,["show","item-name"]),(0,a.createVNode)(xt,{show:N.value,modelValue:C.value,"onUpdate:modelValue":t[12]||(t[12]=function(e){return C.value=e}),onClose:t[13]||(t[13]=function(e){return N.value=!1}),onAssign:G},null,8,["show","modelValue"])])}}};var Lt=r(826),Ft={insert:"head",singleton:!1};k()(Lt.A,Ft);Lt.A.locals;const Ut=(0,N.A)($t,[["__scopeId","data-v-1647fce2"]]);Nova.booting(function(e){e.component("resource-file-manager",Ut)})},826:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(314),n=r.n(a)()(function(e){return e[1]});n.push([e.id,'[data-v-1647fce2]:root{--primary-500:#3b82f6;--primary-400:#60a5fa;--primary-600:#2563eb}.fm-wrapper[data-v-1647fce2]{--fm-font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fm-border-radius:0.75rem;--fm-border-radius-sm:0.5rem;--fm-primary-color:#3b82f6;--fm-primary-color-hover:#2563eb;--fm-text-color:#64748b;--fm-text-color-dim:#6b7285;--fm-bg-color:#fff;--fm-bg-alt-color:#f9fafb;--fm-border-color:#e5e7eb;--fm-border-color-focus:#93c5fd;--fm-danger-color:#ef4444;--fm-danger-color-hover:#dc2626;--fm-shadow-sm:0 1px 2px 0 rgba(0,0,0,.05);--fm-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--fm-shadow-lg:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--fm-shadow-xl:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1)}.dark .fm-wrapper[data-v-1647fce2]{--fm-primary-color:#60a5fa;--fm-primary-color-hover:#3b82f6;--fm-text-color:#94a3b8;--fm-text-color-dim:#9ca3af;--fm-bg-color:#1e2a3b;--fm-bg-alt-color:#1f2937;--fm-border-color:#374151;--fm-border-color-focus:#3b82f6}.fm-wrapper[data-v-1647fce2]{font-family:var(--fm-font-family)}.fm-container[data-v-1647fce2],.fm-wrapper[data-v-1647fce2]{border-radius:var(--fm-border-radius)}.fm-container[data-v-1647fce2]{background-color:var(--fm-bg-color);box-shadow:var(--fm-shadow-lg);overflow:hidden;padding:0}.dark .fm-container[data-v-1647fce2]{-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px);background:var(--fm-bg-color)}.fm-header[data-v-1647fce2]{border-bottom:1px solid var(--fm-border-color);gap:1rem;justify-content:space-between;padding:.75rem 1.25rem}.fm-actions[data-v-1647fce2],.fm-header[data-v-1647fce2]{align-items:center;display:flex;flex-wrap:wrap}.fm-actions[data-v-1647fce2]{gap:.75rem}.fade-scale-enter-active[data-v-1647fce2],.fade-scale-leave-active[data-v-1647fce2]{transition:all .2s ease-in-out}.fade-scale-enter-from[data-v-1647fce2],.fade-scale-leave-to[data-v-1647fce2]{opacity:0;transform:scale(.97)}.hidden[data-v-1647fce2]{display:none}',""]);const o=n},832:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(314),n=r.n(a)()(function(e){return e[1]});n.push([e.id,".modal[data-v-449da2c4]{z-index:50}",""]);const o=n},917:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(314),n=r.n(a)()(function(e){return e[1]});n.push([e.id,"@keyframes sk-9b3bed98{0%{background-position:100% 0}to{background-position:-100% 0}}.fm-skeleton[data-v-9b3bed98]{animation:sk-9b3bed98 1.5s linear infinite;background:linear-gradient(90deg,var(--fm-bg-alt-color,#f9fafb) 25%,color-mix(in srgb,var(--fm-text-color-dim,#9ca3af) 10%,var(--fm-bg-alt-color,#f9fafb)) 50%,var(--fm-bg-alt-color,#f9fafb) 75%);background-size:200% 100%;border-color:var(--fm-border-color,#e5e7eb);box-shadow:none;cursor:default}.fm-grid[data-v-9b3bed98]{display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));padding:1.5rem}.fm-cell[data-v-9b3bed98]{aspect-ratio:1/1;background:var(--fm-bg-alt-color);border:1px solid transparent;border-radius:var(--fm-border-radius);position:relative}.fm-cell.fm-skeleton[data-v-9b3bed98]:hover{box-shadow:none;transform:none}.fm-list[data-v-9b3bed98]{display:flex;flex-direction:column}.fm-list-item[data-v-9b3bed98]{border-bottom:1px solid var(--fm-border-color,#e5e7eb);height:50px}",""]);const o=n}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={id:e,exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,r,n,o)=>{if(!r){var l=1/0;for(d=0;d<e.length;d++){for(var[r,n,o]=e[d],i=!0,c=0;c<r.length;c++)(!1&o||l>=o)&&Object.keys(a.O).every(e=>a.O[e](r[c]))?r.splice(c--,1):(i=!1,o<l&&(l=o));if(i){e.splice(d--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,n,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={416:0,757:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var n,o,[l,i,c]=r,s=0;if(l.some(t=>0!==e[t])){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(c)var d=c(a)}for(t&&t(r);s<l.length;s++)o=l[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},r=self.webpackChunkelsed_resource_file_manager=self.webpackChunkelsed_resource_file_manager||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),a.nc=void 0,a.O(void 0,[757],()=>a(795));var n=a.O(void 0,[757],()=>a(351));n=a.O(n)})();