/*! For license information please see tool.js.LICENSE.txt */
(()=>{"use strict";var e,t={38:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(314),o=r.n(a)()(function(e){return e[1]});o.push([e.id,".modal[data-v-4d5e1ba9]{z-index:50}",""]);const n=o},65:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(314),o=r.n(a)()(function(e){return e[1]});o.push([e.id,".fm-view-switcher[data-v-65774343]{background-color:var(--fm-bg-alt-color,#f9fafb);border:1px solid var(--fm-border-color,#e5e7eb);border-radius:var(--fm-border-radius-sm,.5rem);display:flex;padding:.25rem}.fm-view-btn[data-v-65774343]{background:transparent;border:none;border-radius:.375rem;color:var(--fm-text-color-dim,#6b7285);cursor:pointer;padding:.4rem .7rem;transition:all .2s ease}.fm-view-btn.active[data-v-65774343]{background-color:var(--fm-bg-color,#fff);box-shadow:var(--fm-shadow-sm,0 1px 2px 0 rgba(0,0,0,.05));color:var(--fm-primary-color,#3b82f6)}.dark .fm-view-btn.active[data-v-65774343]{background-color:var(--fm-bg-color)}",""]);const n=o},72:(e,t,r)=>{var a,o=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},n=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),l=[];function i(e){for(var t=-1,r=0;r<l.length;r++)if(l[r].identifier===e){t=r;break}return t}function c(e,t){for(var r={},a=[],o=0;o<e.length;o++){var n=e[o],c=t.base?n[0]+t.base:n[0],s=r[c]||0,d="".concat(c," ").concat(s);r[c]=s+1;var u=i(d),m={css:n[1],media:n[2],sourceMap:n[3]};-1!==u?(l[u].references++,l[u].updater(m)):l.push({identifier:d,updater:g(m,t),references:1}),a.push(d)}return a}function s(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var o=r.nc;o&&(a.nonce=o)}if(Object.keys(a).forEach(function(e){t.setAttribute(e,a[e])}),"function"==typeof e.insert)e.insert(t);else{var l=n(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function m(e,t,r,a){var o=r?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=u(t,o);else{var n=document.createTextNode(o),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(n,l[t]):e.appendChild(n)}}function f(e,t,r){var a=r.css,o=r.media,n=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var p=null,v=0;function g(e,t){var r,a,o;if(t.singleton){var n=v++;r=p||(p=s(t)),a=m.bind(null,r,n,!1),o=m.bind(null,r,n,!0)}else r=s(t),a=f.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var r=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<r.length;a++){var o=i(r[a]);l[o].references--}for(var n=c(e,t),s=0;s<r.length;s++){var d=i(r[s]);0===l[d].references&&(l[d].updater(),l.splice(d,1))}r=n}}}},90:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(314),o=r.n(a)()(function(e){return e[1]});o.push([e.id,".fm-list[data-v-5267c09e]{display:flex;flex-direction:column;width:100%}.fm-list-header[data-v-5267c09e]{color:var(--fm-text-color-dim);font-size:.875rem;font-weight:600;text-align:left}.fm-list-header[data-v-5267c09e],.fm-list-item[data-v-5267c09e]{border-bottom:1px solid var(--fm-border-color);display:grid;gap:1rem;grid-template-columns:2fr 1fr 1fr 1fr 1fr;padding:.5rem 1.25rem}.fm-list-item[data-v-5267c09e]{align-items:center;transition:background-color .2s ease}.fm-list-item[data-v-5267c09e]:hover{background-color:var(--fm-bg-alt-color)}.fm-list-actions[data-v-5267c09e],.fm-list-modified[data-v-5267c09e],.fm-list-name[data-v-5267c09e],.fm-list-size[data-v-5267c09e],.fm-list-tags[data-v-5267c09e]{align-items:center;display:flex;justify-content:flex-start;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.fm-list-name[data-v-5267c09e]{color:var(--fm-text-color);font-weight:500}.fm-list-tags[data-v-5267c09e]{color:var(--fm-text-color-dim)}.fm-list-modified[data-v-5267c09e],.fm-list-size[data-v-5267c09e]{color:var(--fm-text-color-dim);font-size:.875rem;text-align:center}.fm-list-actions[data-v-5267c09e]{display:flex;gap:.75rem;justify-content:flex-end}.fm-action-btn[data-v-5267c09e]{border-radius:50%;color:var(--fm-text-color-dim);padding:.5rem;transition:all .2s ease}.fm-action-btn[data-v-5267c09e]:hover{background-color:var(--fm-bg-color);color:var(--fm-primary-color)}.fm-action-btn-danger[data-v-5267c09e]:hover{color:var(--fm-danger-color)}.fm-inline-rename-input[data-v-5267c09e]{border:1px solid var(--fm-border-color-focus);outline:none;padding:.25rem .5rem}.fm-inline-rename-input[data-v-5267c09e],.fm-list-thumb[data-v-5267c09e]{border-radius:var(--fm-border-radius-sm)}.fm-list-thumb[data-v-5267c09e]{flex-shrink:0;height:32px;-o-object-fit:cover;object-fit:cover;width:32px}.fm-list-icon[data-v-5267c09e],.icon-mask[data-v-5267c09e]{flex-shrink:0;height:24px;width:24px}.icon-mask[data-v-5267c09e]{background-color:currentColor;mask-position:center;-webkit-mask-position:center;mask-repeat:no-repeat;-webkit-mask-repeat:no-repeat;mask-size:contain;-webkit-mask-size:contain}",""]);const n=o},94:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(314),o=r.n(a)()(function(e){return e[1]});o.push([e.id,".fm-pagination-nova[data-v-9a4a7a34]{border-top:1px solid var(--fm-border-color)}",""]);const n=o},139:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(314),o=r.n(a)()(function(e){return e[1]});o.push([e.id,".fm-grid[data-v-6b2a1466]{display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}.fm-cell[data-v-6b2a1466]{aspect-ratio:1/1;background:var(--fm-bg-alt-color);border:1px solid transparent;border-radius:var(--fm-border-radius);box-shadow:var(--fm-shadow-sm);cursor:pointer;overflow:hidden;position:relative;transition:all .25s cubic-bezier(.4,0,.2,1)}.fm-cell[data-v-6b2a1466]:focus-visible,.fm-cell[data-v-6b2a1466]:hover{border-color:var(--fm-border-color-focus);box-shadow:var(--fm-shadow-lg);outline:none;transform:translateY(-4px)}.dark .fm-cell[data-v-6b2a1466]{background:color-mix(in srgb,var(--fm-bg-alt-color) 50%,transparent)}.fm-content[data-v-6b2a1466]{flex-direction:column;inset:0;overflow:hidden;padding:.75rem;position:absolute;text-align:center}.fm-content[data-v-6b2a1466],.fm-icon-wrapper[data-v-6b2a1466]{align-items:center;display:flex;justify-content:center}.fm-icon-wrapper[data-v-6b2a1466]{flex-grow:1;margin-bottom:.75rem;width:55%}.fm-icon[data-v-6b2a1466]{height:100%;opacity:.9;width:100%}.fm-thumb[data-v-6b2a1466]{border-radius:var(--fm-border-radius-sm);max-height:100%;max-width:100%;-o-object-fit:cover;object-fit:cover}.fm-details[data-v-6b2a1466]{align-items:center;display:flex;flex-direction:column;justify-content:center}.fm-label[data-v-6b2a1466]{background:color-mix(in srgb,var(--fm-bg-color) 80%,transparent);border-top:1px solid var(--fm-border-color);bottom:0;color:var(--fm-text-color);font-size:.875rem;font-weight:500;left:0;overflow:hidden;padding:.5rem;position:absolute;text-overflow:ellipsis;white-space:nowrap;width:100%}.dark .fm-label[data-v-6b2a1466]{background:color-mix(in srgb,var(--fm-bg-alt-color) 80%,transparent)}.icon-mask[data-v-6b2a1466]{background-color:currentColor;display:inline-block;mask-position:center;-webkit-mask-position:center;mask-repeat:no-repeat;-webkit-mask-repeat:no-repeat;mask-size:contain;-webkit-mask-size:contain}.fm-tags[data-v-6b2a1466]{display:flex;flex-wrap:wrap;justify-content:center}.fm-tag[data-v-6b2a1466]{border-radius:9999px;display:inline-block;font-size:.75rem;font-weight:500;margin-bottom:25px;text-transform:capitalize}.fm-tag.bg-gray-200[data-v-6b2a1466]{background-color:#e5e7eb;color:#4b5563}.fm-tag.bg-red-500[data-v-6b2a1466]{background-color:#ef4444;color:#fff}.fm-tag.bg-blue-500[data-v-6b2a1466]{background-color:#3b82f6;color:#fff}.fm-tag.bg-green-500[data-v-6b2a1466]{background-color:#10b981;color:#fff}.fm-tag.bg-yellow-500[data-v-6b2a1466]{background-color:#f59e0b;color:#fff}",""]);const n=o},199:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(314),o=r.n(a)()(function(e){return e[1]});o.push([e.id,".fm-dropzone[data-v-1546f332]{background-color:color-mix(in srgb,var(--fm-primary-color,#3b82f6) 5%,var(--fm-bg-alt-color,#f9fafb));border:2px dashed var(--fm-border-color,#e5e7eb);border-radius:var(--fm-border-radius,.75rem);color:var(--fm-text-color-dim,#6b7285);cursor:pointer;margin:1.5rem;padding:3rem;text-align:center;transition:all .2s ease-in-out}.fm-dropzone[data-v-1546f332]:hover{border-color:var(--fm-primary-color,#3b82f6);border-style:solid;box-shadow:0 0 25px color-mix(in srgb,var(--fm-primary-color,#3b82f6) 15%,transparent);color:var(--fm-primary-color,#3b82f6);transform:scale(1.01)}.fm-drop-icon[data-v-1546f332]{font-size:3rem;margin-bottom:.75rem}.fade-scale-enter-active[data-v-1546f332],.fade-scale-leave-active[data-v-1546f332]{transition:all .2s ease-in-out}.fade-scale-enter-from[data-v-1546f332],.fade-scale-leave-to[data-v-1546f332]{opacity:0;transform:scale(.97)}",""]);const n=o},262:(e,t)=>{t.A=(e,t)=>{const r=e.__vccOpts||e;for(const[e,a]of t)r[e]=a;return r}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r}).join("")},t.i=function(e,r,a){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(a)for(var n=0;n<this.length;n++){var l=this[n][0];null!=l&&(o[l]=!0)}for(var i=0;i<e.length;i++){var c=[].concat(e[i]);a&&o[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),t.push(c))}},t}},351:()=>{},448:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(314),o=r.n(a)()(function(e){return e[1]});o.push([e.id,".fm-per-page[data-v-10709cc4]{align-items:center;display:flex}.fm-select[data-v-10709cc4]{background-color:var(--fm-bg-alt-color,#f9fafb);border:1px solid var(--fm-border-color,#e5e7eb);border-radius:var(--fm-border-radius-sm,.5rem);color:var(--fm-text-color,#374151);padding:.4rem .7rem}.dark .fm-select[data-v-10709cc4]{background:var(--fm-bg-color)}",""]);const n=o},618:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(314),o=r.n(a)()(function(e){return e[1]});o.push([e.id,".fm-breadcrumb[data-v-ce7a205c]{align-items:center;display:flex;gap:.5rem}.fm-breadcrumb[data-v-ce7a205c],.fm-btn-icon[data-v-ce7a205c]{color:var(--fm-text-color-dim,#6b7285)}.fm-btn-icon[data-v-ce7a205c]{background:none;border:none;border-radius:50%;cursor:pointer;padding:.5rem;transition:color .2s ease}.fm-btn-icon[data-v-ce7a205c]:hover{color:var(--fm-primary-color,#3b82f6)}.fm-path[data-v-ce7a205c]{background:none;border:none;border-radius:var(--fm-border-radius-sm,.5rem);color:var(--fm-text-color,#374151);cursor:pointer;font-weight:500;padding:.5rem .75rem;transition:background-color .2s ease,color .2s ease}.fm-path[data-v-ce7a205c]:hover{background-color:var(--fm-bg-alt-color,#f9fafb);color:var(--fm-primary-color,#3b82f6)}",""]);const n=o},643:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(314),o=r.n(a)()(function(e){return e[1]});o.push([e.id,".fm-context-menu[data-v-7846adfa]{background-color:var(--fm-bg-color);border:1px solid var(--fm-border-color);border-radius:var(--fm-border-radius-sm);box-shadow:var(--fm-shadow-xl);min-width:180px;padding:.5rem 0;position:fixed;z-index:1000}.fm-context-item[data-v-7846adfa]{background:none;border:none;color:var(--fm-text-color);cursor:pointer;display:block;font-weight:500;padding:.75rem 1.25rem;text-align:left;transition:all .2s ease;width:100%}.fm-context-item[data-v-7846adfa]:hover{background-color:var(--fm-bg-alt-color);color:var(--fm-primary-color)}.fm-context-item-danger[data-v-7846adfa]:hover{color:var(--fm-danger-color)}.fade-scale-enter-active[data-v-7846adfa],.fade-scale-leave-active[data-v-7846adfa]{transition:all .2s ease-in-out}.fade-scale-enter-from[data-v-7846adfa],.fade-scale-leave-to[data-v-7846adfa]{opacity:0;transform:scale(.97)}",""]);const n=o},794:(e,t,r)=>{const a=Vue;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope),Object.prototype.toString;const o=()=>{};function n(e,t){return function(...r){return new Promise((a,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(a).catch(o)})}}function l(e,t={}){let r,n,l=o;const i=e=>{clearTimeout(e),l(),l=o};let c;return o=>{const s=(0,a.toValue)(e),d=(0,a.toValue)(t.maxWait);return r&&i(r),s<=0||void 0!==d&&d<=0?(n&&(i(n),n=void 0),Promise.resolve(o())):new Promise((e,a)=>{l=t.rejectOnCancel?a:e,c=o,d&&!n&&(n=setTimeout(()=>{r&&i(r),n=void 0,e(c())},d)),r=setTimeout(()=>{n&&i(n),n=void 0,e(o())},s)})}}function i(e){const t=Object.create(null);return r=>t[r]||(t[r]=e(r))}const c=/\B([A-Z])/g,s=(i(e=>e.replace(c,"-$1").toLowerCase()),/-(\w)/g);i(e=>e.replace(s,(e,t)=>t?t.toUpperCase():""));function d(e,t=200,r={}){return n(l(t,r),e)}var u={class:"relative h-9 w-full"},m={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"20",height:"24",class:"inline-block absolute ml-2 text-gray-400",role:"presentation",style:{top:"4px"}},f=["value"];const p={__name:"SearchInput",props:["modelValue"],emits:["update:modelValue"],setup:function(e){return function(t,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",u,[((0,a.openBlock)(),(0,a.createElementBlock)("svg",m,r[1]||(r[1]=[(0,a.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)]))),(0,a.createElementVNode)("input",{type:"search",value:e.modelValue,onInput:r[0]||(r[0]=function(e){return t.$emit("update:modelValue",e.target.value)}),placeholder:"Cerca...",class:"appearance-none bg-white dark:bg-gray-800 shadow rounded-full h-8 w-full pl-10 focus:bg-white focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 dark:focus:bg-gray-800",spellcheck:"false","aria-label":"Search",dusk:"search-input"},null,40,f)])}}};var v={size:"md",class:"shrink-0 shadow rounded focus:outline-none ring-primary-200 dark:ring-gray-600 focus:ring bg-primary-500 hover:bg-primary-400 active:bg-primary-600 text-white dark:text-gray-800 inline-flex items-center font-bold px-4 h-9 text-sm"};const g={__name:"ActionButton",setup:function(e){return function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("button",v,[(0,a.renderSlot)(e.$slots,"default")])}}};var b={class:"fm-breadcrumb"},h=["onClick"];const y={__name:"Breadcrumbs",props:["crumbs"],emits:["navigate"],setup:function(e){return function(t,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",b,[(0,a.createElementVNode)("button",{onClick:r[0]||(r[0]=function(e){return t.$emit("navigate","")}),class:"fm-btn-icon",title:"Torna alla radice"},r[1]||(r[1]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 text-gray-500 hover:text-gray-700 transition-colors",viewBox:"0 0 20 20",fill:"currentColor"},[(0,a.createElementVNode)("path",{d:"M10.707 1.293a1 1 0 00-1.414 0L2 8.586V18a1 1 0 001 1h5a1 1 0 001-1v-4h2v4a1 1 0 001 1h5a1 1 0 001-1V8.586l-7.293-7.293z"})],-1)])),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.crumbs,function(e,o){return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:o},[r[2]||(r[2]=(0,a.createElementVNode)("span",{class:"opacity-50"},"/",-1)),(0,a.createElementVNode)("button",{onClick:function(r){return t.$emit("navigate",e.path)},class:"fm-path"},(0,a.toDisplayString)(e.name),9,h)],64)}),128))])}}};var x=r(72),k=r.n(x),w=r(618),E={insert:"head",singleton:!1};k()(w.A,E);w.A.locals;var N=r(262);const V=(0,N.A)(y,[["__scopeId","data-v-ce7a205c"]]);var C=r(448),B={insert:"head",singleton:!1};k()(C.A,B);C.A.locals;var A={class:"fm-view-switcher"};const j={__name:"ViewSwitcher",props:["modelValue"],emits:["update:modelValue"],setup:function(e){return function(t,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",A,[(0,a.createElementVNode)("button",{onClick:r[0]||(r[0]=function(e){return t.$emit("update:modelValue","grid")}),class:(0,a.normalizeClass)(["fm-view-btn",{active:"grid"===e.modelValue}]),title:"Vista Griglia"},r[2]||(r[2]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5"},[(0,a.createElementVNode)("path",{"fill-rule":"evenodd",d:"M4.25 2A2.25 2.25 0 002 4.25v2.5A2.25 2.25 0 004.25 9h2.5A2.25 2.25 0 009 6.75v-2.5A2.25 2.25 0 006.75 2h-2.5zm0 9A2.25 2.25 0 002 13.25v2.5A2.25 2.25 0 004.25 18h2.5A2.25 2.25 0 009 15.75v-2.5A2.25 2.25 0 006.75 11h-2.5zm9-9A2.25 2.25 0 0011 4.25v2.5A2.25 2.25 0 0013.25 9h2.5A2.25 2.25 0 0018 6.75v-2.5A2.25 2.25 0 0015.75 2h-2.5zM13.25 11a2.25 2.25 0 00-2.25 2.25v2.5a2.25 2.25 0 002.25 2.25h2.5a2.25 2.25 0 002.25-2.25v-2.5a2.25 2.25 0 00-2.25-2.25h-2.5z","clip-rule":"evenodd"})],-1)]),2),(0,a.createElementVNode)("button",{onClick:r[1]||(r[1]=function(e){return t.$emit("update:modelValue","list")}),class:(0,a.normalizeClass)(["fm-view-btn",{active:"list"===e.modelValue}]),title:"Vista Elenco"},r[3]||(r[3]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5"},[(0,a.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10zm0 5.25a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75z","clip-rule":"evenodd"})],-1)]),2)])}}};var _=r(65),z={insert:"head",singleton:!1};k()(_.A,z);_.A.locals;const S=(0,N.A)(j,[["__scopeId","data-v-65774343"]]),M={__name:"Dropzone",emits:["drop"],setup:function(e,t){var r=t.emit,o=(0,a.ref)(!1),n=0;function l(e){e.preventDefault(),++n>0&&(o.value=!0)}function i(e){e.preventDefault(),--n<=0&&(n=0,o.value=!1)}function c(e){e.preventDefault()}function s(e){e.preventDefault(),n=0,o.value=!1,r("drop",Array.from(e.dataTransfer.files))}function d(e){s(e)}return(0,a.onMounted)(function(){window.addEventListener("dragenter",l),window.addEventListener("dragleave",i),window.addEventListener("dragover",c),window.addEventListener("drop",s)}),(0,a.onUnmounted)(function(){window.removeEventListener("dragenter",l),window.removeEventListener("dragleave",i),window.removeEventListener("dragover",c),window.removeEventListener("drop",s)}),function(e,t){return(0,a.openBlock)(),(0,a.createBlock)(a.Transition,{name:"fade-scale"},{default:(0,a.withCtx)(function(){return[(0,a.withDirectives)((0,a.createElementVNode)("div",{class:"fm-dropzone",onDragover:t[0]||(t[0]=(0,a.withModifiers)(function(){},["prevent"])),onDrop:(0,a.withModifiers)(d,["prevent"])},t[1]||(t[1]=[(0,a.createElementVNode)("div",{class:"fm-drop-icon"},"📁",-1),(0,a.createElementVNode)("div",null,"Rilascia i file per caricarli",-1)]),544),[[a.vShow,o.value]])]}),_:1})}}};var I=r(199),D={insert:"head",singleton:!1};k()(I.A,D);I.A.locals;const P=(0,N.A)(M,[["__scopeId","data-v-1546f332"]]);var O={key:0,class:"fm-grid"},T={key:1,class:"fm-list"};const L={__name:"LoadingSkeleton",props:["viewMode"],setup:function(e){return function(t,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,["grid"===e.viewMode?((0,a.openBlock)(),(0,a.createElementBlock)("div",O,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(12,function(e){return(0,a.createElementVNode)("div",{key:e,class:"fm-cell fm-skeleton"})}),64))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",T,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(5,function(e){return(0,a.createElementVNode)("div",{key:e,class:"fm-list-item fm-skeleton"})}),64))]))])}}};var $=r(917),F={insert:"head",singleton:!1};k()($.A,F);$.A.locals;const U=(0,N.A)(L,[["__scopeId","data-v-9b3bed98"]]);var q={"3ds":"001-3ds",ai:"002-ai format",app:"003-app",asp:"004-asp",bat:"005-bat","c++":"006-c++",cs:"007-c sharp",css:"008-css",csv:"009-csv",dat:"010-dat format",dll:"011-dll",doc:"012-doc",docx:"013-docx",dwg:"014-dwg",eml:"015-eml",eps:"016-eps",exe:"017-exe",flv:"018-flv",gif:"019-gif",html:"020-html",ics:"021-ics format",iso:"022-iso",jar:"023-jar",jpeg:"024-jpeg",jpg:"025-jpg",js:"026-js format",log:"027-log format",mdb:"028-mdb",mov:"029-mov",mp3:"030-mp3",mp4:"031-mp4",pdf:"032-pdf",obj:"033-obj",otf:"034-otf",php:"035-php",png:"036-png",ppt:"037-ppt",psd:"038-psd",pub:"039-pub",rar:"040-rar",sql:"041-sql",srt:"042-srt",svg:"043-svg",ttf:"044-ttf",txt:"045-txt",wav:"046-wav format",xls:"047-xls",xlsx:"048-xlsx",xml:"049-xml",zip:"050-zip"};function G(e){return"file"===e.type&&/\.(jpg|jpeg|png|gif|webp|svg|psd|ai|eps)$/i.test(e.name)}function R(e){if("folder"===e.type)return null;var t=e.name.split(".").pop().toLowerCase();return"/storage/svg/".concat(q[t]||"default-file",".svg")}function H(e){console.warn("[FileManager] Image failed to load:",e.target.src),e.target.style.display="none"}var W={class:"fm-grid p-4"},K=["onDblclick","onContextmenu"],Z={class:"fm-content"},J={class:"fm-icon-wrapper"},Y=["src"],X={key:1,class:"fm-icon text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Q={class:"fm-details"},ee={class:"fm-label"},te={key:0,class:"fm-tags"},re={class:"fm-tag"};const ae={__name:"GridView",props:["items"],emits:["itemDoubleClick","itemContextMenu"],setup:function(e){function t(e){switch(function(e){return e.name.split(".").pop().toLowerCase()}(e)){case"pdf":return"text-red-500";case"doc":case"docx":return"text-sky-500";case"xls":case"xlsx":return"text-green-500";case"zip":case"rar":case"7z":return"text-yellow-600";default:return"text-gray-400"}}function r(e){var t=R(e);return{maskImage:"url(".concat(t,")"),WebkitMaskImage:"url(".concat(t,")")}}return function(o,n){return(0,a.openBlock)(),(0,a.createElementBlock)("div",W,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.items,function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.path,class:"fm-cell",onDblclick:function(t){return o.$emit("itemDoubleClick",e)},onContextmenu:(0,a.withModifiers)(function(t){return o.$emit("itemContextMenu",t,e)},["prevent"]),tabindex:"0"},[(0,a.createElementVNode)("div",Z,[(0,a.createElementVNode)("div",J,[(0,a.unref)(G)(e)?((0,a.openBlock)(),(0,a.createElementBlock)("img",{key:0,src:e.url,class:"fm-thumb",onError:n[0]||(n[0]=function(){return(0,a.unref)(H)&&(0,a.unref)(H).apply(void 0,arguments)}),loading:"lazy"},null,40,Y)):"folder"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)("svg",X,n[1]||(n[1]=[(0,a.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"0.75",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:2,class:(0,a.normalizeClass)(["fm-icon icon-mask",t(e)]),style:(0,a.normalizeStyle)(r(e))},null,6))]),(0,a.createElementVNode)("div",Q,[(0,a.createElementVNode)("span",ee,(0,a.toDisplayString)(e.name),1),e.tags?((0,a.openBlock)(),(0,a.createElementBlock)("div",te,[(0,a.createElementVNode)("span",re,(0,a.toDisplayString)(e.tags?e.tags:" - "),1)])):(0,a.createCommentVNode)("",!0)])])],40,K)}),128))])}}};var oe=r(139),ne={insert:"head",singleton:!1};k()(oe.A,ne);oe.A.locals;const le=(0,N.A)(ae,[["__scopeId","data-v-6b2a1466"]]);function ie(e){if(0===e||!e)return"-";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]}function ce(e){return e?new Date(1e3*e).toLocaleString():"-"}var se={class:"fm-list"},de=["onDblclick"],ue={class:"fm-list-name"},me=["src"],fe={key:1,class:"fm-list-icon text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},pe={key:3},ve=["value"],ge={key:4},be={class:"fm-list-tags"},he={class:"fm-list-size"},ye={class:"fm-list-modified"},xe={class:"fm-list-actions"},ke=["onClick"],we=["onClick"],Ee=["onClick"],Ne=["onClick"];const Ve={__name:"ListView",props:["items","editingItem","newItemName"],emits:["update:newItemName","itemDoubleClick","renameItem","cancelEditing","downloadItem","startEditing","deleteItem","openAssignTypeModal","assignType"],setup:function(e,t){t.emit;var r=e,o=(0,a.ref)(null);function n(e){switch(function(e){return e.name.split(".").pop().toLowerCase()}(e)){case"pdf":return"text-red-500";case"doc":case"docx":return"text-sky-500";case"xls":case"xlsx":return"text-green-500";case"zip":case"rar":case"7z":return"text-yellow-600";default:return"text-gray-400"}}function l(e){var t=R(e);return{maskImage:"url(".concat(t,")"),WebkitMaskImage:"url(".concat(t,")")}}return(0,a.watch)(function(){return r.editingItem},function(e){e&&(0,a.nextTick)(function(){var e;return null===(e=o.value)||void 0===e?void 0:e.focus()})}),function(t,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",se,[r[10]||(r[10]=(0,a.createStaticVNode)('<div class="fm-list-header bg-gray-50 dark:bg-gray-800" data-v-5267c09e><div class="fm-list-name" data-v-5267c09e>Nome</div><div class="fm-list-tags" data-v-5267c09e>Tipo</div><div class="fm-list-size" data-v-5267c09e>Dimensione</div><div class="fm-list-modified" data-v-5267c09e>Ultima Modifica</div><div class="fm-list-actions" data-v-5267c09e>Azioni</div></div>',1)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.items,function(i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:i.path,class:"fm-list-item",onDblclick:function(e){return t.$emit("itemDoubleClick",i)}},[(0,a.createElementVNode)("div",ue,[(0,a.unref)(G)(i)?((0,a.openBlock)(),(0,a.createElementBlock)("img",{key:0,src:i.url,class:"fm-list-thumb",onError:r[0]||(r[0]=function(){return(0,a.unref)(H)&&(0,a.unref)(H).apply(void 0,arguments)}),loading:"lazy"},null,40,me)):"folder"===i.type?((0,a.openBlock)(),(0,a.createElementBlock)("svg",fe,r[5]||(r[5]=[(0,a.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"0.75",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:2,class:(0,a.normalizeClass)(["fm-list-icon icon-mask",n(i)]),style:(0,a.normalizeStyle)(l(i))},null,6)),e.editingItem&&e.editingItem.path===i.path?((0,a.openBlock)(),(0,a.createElementBlock)("div",pe,[(0,a.createElementVNode)("input",{type:"text",value:e.newItemName,onInput:r[1]||(r[1]=function(e){return t.$emit("update:newItemName",e.target.value)}),onKeyup:[r[2]||(r[2]=(0,a.withKeys)(function(e){return t.$emit("renameItem")},["enter"])),r[4]||(r[4]=(0,a.withKeys)(function(e){return t.$emit("cancelEditing")},["esc"]))],onBlur:r[3]||(r[3]=function(e){return t.$emit("cancelEditing")}),class:"fm-inline-rename-input",ref_for:!0,ref_key:"inlineRenameInput",ref:o},null,40,ve)])):((0,a.openBlock)(),(0,a.createElementBlock)("span",ge,(0,a.toDisplayString)(i.name),1))]),(0,a.createElementVNode)("div",be,(0,a.toDisplayString)(i.tags?i.tags:" - "),1),(0,a.createElementVNode)("div",he,(0,a.toDisplayString)((0,a.unref)(ie)(i.size)),1),(0,a.createElementVNode)("div",ye,(0,a.toDisplayString)((0,a.unref)(ce)(i.last_modified)),1),(0,a.createElementVNode)("div",xe,["file"===i.type?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:function(e){return t.$emit("downloadItem",i)},class:"fm-action-btn",title:"Download"},r[6]||(r[6]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5"},[(0,a.createElementVNode)("path",{d:"M10.75 2.75a.75.75 0 00-1.5 0v8.614L6.295 8.235a.75.75 0 10-1.09 1.03l4.25 4.5a.75.75 0 001.09 0l4.25-4.5a.75.75 0 00-1.09-1.03l-2.955 3.129V2.75z"}),(0,a.createElementVNode)("path",{d:"M3.5 12.75a.75.75 0 00-1.5 0v2.5A2.75 2.75 0 004.75 18h10.5A2.75 2.75 0 0018 15.25v-2.5a.75.75 0 00-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5z"})],-1)]),8,ke)):(0,a.createCommentVNode)("",!0),"file"===i.type?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:1,onClick:function(e){return t.$emit("openAssignTypeModal",i)},class:"fm-action-btn",title:"Assegna Tipo"},r[7]||(r[7]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[(0,a.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),(0,a.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 6h.008v.008H6V6Z"})],-1)]),8,we)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("button",{onClick:function(e){return t.$emit("startEditing",i)},class:"fm-action-btn",title:"Rinomina"},r[8]||(r[8]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5"},[(0,a.createElementVNode)("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),(0,a.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z","clip-rule":"evenodd"})],-1)]),8,Ee),(0,a.createElementVNode)("button",{onClick:function(e){return t.$emit("deleteItem",i)},class:"fm-action-btn fm-action-btn-danger",title:"Elimina"},r[9]||(r[9]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5"},[(0,a.createElementVNode)("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.58.22-2.365.468a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193v-.443A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z","clip-rule":"evenodd"})],-1)]),8,Ne)])],40,de)}),128))])}}};var Ce=r(90),Be={insert:"head",singleton:!1};k()(Ce.A,Be);Ce.A.locals;const Ae=(0,N.A)(Ve,[["__scopeId","data-v-5267c09e"]]);var je={class:"fm-pagination-nova"},_e={class:"flex justify-between items-center"},ze=["disabled"],Se={class:"text-xs px-4"},Me=["disabled"];const Ie={__name:"Pagination",props:["pagination"],emits:["changePage"],setup:function(e){var t=e,r=(0,a.computed)(function(){return t.pagination&&0!==t.pagination.total?(t.pagination.currentPage-1)*t.pagination.perPage+1:0}),o=(0,a.computed)(function(){return t.pagination&&0!==t.pagination.total?Math.min(t.pagination.currentPage*t.pagination.perPage,t.pagination.total):0});return function(t,n){return(0,a.openBlock)(),(0,a.createElementBlock)("div",je,[(0,a.createElementVNode)("nav",_e,[(0,a.createElementVNode)("button",{disabled:e.pagination.currentPage<=1,onClick:n[0]||(n[0]=function(r){return t.$emit("changePage",e.pagination.currentPage-1)}),class:(0,a.normalizeClass)(["text-xs font-bold py-3 px-4 focus:outline-none rounded-bl-lg focus:ring focus:ring-inset",e.pagination.currentPage<=1?"text-gray-300 dark:text-gray-600":"text-primary-500 hover:text-primary-400 active:text-primary-600"]),rel:"prev",dusk:"previous"}," Precedente ",10,ze),(0,a.createElementVNode)("span",Se,(0,a.toDisplayString)(r.value)+"-"+(0,a.toDisplayString)(o.value)+" di "+(0,a.toDisplayString)(e.pagination.total),1),(0,a.createElementVNode)("button",{disabled:e.pagination.currentPage>=e.pagination.lastPage,onClick:n[1]||(n[1]=function(r){return t.$emit("changePage",e.pagination.currentPage+1)}),class:(0,a.normalizeClass)(["text-xs font-bold py-3 px-4 focus:outline-none rounded-br-lg focus:ring focus:ring-inset",e.pagination.currentPage>=e.pagination.lastPage?"text-gray-300 dark:text-gray-600":"text-primary-500 hover:text-primary-400 active:text-primary-600"]),rel:"next",dusk:"next"}," Avanti ",10,Me)])])}}};var De=r(94),Pe={insert:"head",singleton:!1};k()(De.A,Pe);De.A.locals;const Oe=(0,N.A)(Ie,[["__scopeId","data-v-9a4a7a34"]]),Te={__name:"ContextMenu",props:["menu"],emits:["rename","download","delete","assignType"],setup:function(e){return function(t,r){return(0,a.openBlock)(),(0,a.createBlock)(a.Transition,{name:"fade-scale"},{default:(0,a.withCtx)(function(){return[(0,a.createElementVNode)("div",{class:"fm-context-menu",style:(0,a.normalizeStyle)({top:e.menu.y+"px",left:e.menu.x+"px"})},[(0,a.createElementVNode)("button",{onClick:r[0]||(r[0]=function(e){return t.$emit("rename")}),class:"fm-context-item"},"Rinomina"),"file"===e.menu.item.type?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:r[1]||(r[1]=function(r){return t.$emit("download",e.menu.item)}),class:"fm-context-item"},"Download")):(0,a.createCommentVNode)("",!0),"file"===e.menu.item.type?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:1,onClick:r[2]||(r[2]=function(r){return t.$emit("assignType",e.menu.item)}),class:"fm-context-item"},"Assegna Tipo")):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("button",{onClick:r[3]||(r[3]=function(e){return t.$emit("delete")}),class:"fm-context-item fm-context-item-danger"},"Elimina")],4)]}),_:1})}}};var Le=r(643),$e={insert:"head",singleton:!1};k()(Le.A,$e);Le.A.locals;const Fe=(0,N.A)(Te,[["__scopeId","data-v-7846adfa"]]);var Ue={class:"relative mx-auto z-20 max-w-2xl text-left"},qe={class:"space-y-6"},Ge={class:"px-8"},Re={class:"bg-gray-100 dark:bg-gray-700 px-6 py-3 flex",style:{"margin-top":"30px"}},He={class:"flex items-center ml-auto"};const We={__name:"CreateFolderModal",props:["show","modelValue"],emits:["close","create","update:modelValue"],setup:function(e,t){var r=t.emit,o=e,n=r,l=(0,a.ref)(null);(0,a.watch)(function(){return o.show},function(e){e&&(0,a.nextTick)(function(){var e;null===(e=l.value)||void 0===e||e.focus()})});var i=(0,a.computed)({get:function(){return o.modelValue},set:function(e){return n("update:modelValue",e)}}),c=function(){n("create")};return function(t,r){return e.show?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal fixed inset-0 z-[60] px-3 md:px-0 py-3 md:py-6 overflow-x-hidden overflow-y-auto",style:{"background-color":"rgba(0, 0, 0, 0.5)"},role:"dialog",onClick:r[2]||(r[2]=(0,a.withModifiers)(function(e){return t.$emit("close")},["self"]))},[(0,a.createElementVNode)("div",Ue,[(0,a.createElementVNode)("form",{onSubmit:(0,a.withModifiers)(c,["prevent"]),autocomplete:"off",class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},[(0,a.createElementVNode)("div",qe,[r[4]||(r[4]=(0,a.createElementVNode)("h3",{class:"uppercase tracking-wide font-bold text-xs border-b border-gray-100 dark:border-gray-700 py-4 px-8"},"Crea Nuova Cartella",-1)),(0,a.createElementVNode)("div",Ge,[r[3]||(r[3]=(0,a.createElementVNode)("label",{for:"folderName",class:"block text-sm font-medium text-gray-700 dark:text-gray-200"},"Nome Cartella",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"folderName","onUpdate:modelValue":r[0]||(r[0]=function(e){return i.value=e}),class:"mt-1 block w-full form-control form-input form-input-bordered",required:"",ref_key:"folderNameInput",ref:l},null,512),[[a.vModelText,i.value]])])]),(0,a.createElementVNode)("div",Re,[(0,a.createElementVNode)("div",He,[(0,a.createElementVNode)("button",{type:"button",onClick:r[1]||(r[1]=function(e){return t.$emit("close")}),class:"ml-auto mr-3 appearance-none bg-transparent font-bold text-gray-400 hover:text-gray-300 active:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 dark:active:text-gray-600 dark:hover:bg-gray-800 cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3"}," Annulla "),r[5]||(r[5]=(0,a.createElementVNode)("button",{type:"submit",class:"border text-left appearance-none cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 relative disabled:cursor-not-allowed inline-flex items-center justify-center shadow h-9 px-3 bg-primary-500 border-primary-500 hover:[&:not(:disabled)]:bg-primary-400 hover:[&:not(:disabled)]:border-primary-400 text-white dark:text-gray-900"}," Crea Cartella ",-1))])])],32)])])):(0,a.createCommentVNode)("",!0)}}};var Ke={class:"relative mx-auto z-20 max-w-2xl text-left"},Ze={class:"space-y-6"},Je={class:"px-8"},Ye=["value"],Xe={class:"bg-gray-100 dark:bg-gray-700 px-6 py-3 flex",style:{"margin-top":"30px"}},Qe={class:"flex items-center ml-auto"};const et={__name:"RenameModal",props:["show","modelValue"],emits:["close","rename","update:modelValue"],setup:function(e,t){t.emit;var r=e,o=(0,a.ref)(null);return(0,a.watch)(function(){return r.show},function(e){e&&(0,a.nextTick)(function(){var e,t;null===(e=o.value)||void 0===e||e.focus(),null===(t=o.value)||void 0===t||t.select()})}),function(t,r){return e.show?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal fixed inset-0 z-[60] px-3 md:px-0 py-3 md:py-6 overflow-x-hidden overflow-y-auto",style:{"background-color":"rgba(0, 0, 0, 0.5)"},role:"dialog",onClick:r[3]||(r[3]=(0,a.withModifiers)(function(e){return t.$emit("close")},["self"]))},[(0,a.createElementVNode)("div",Ke,[(0,a.createElementVNode)("form",{onSubmit:r[2]||(r[2]=(0,a.withModifiers)(function(e){return t.$emit("rename")},["prevent"])),autocomplete:"off",class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},[(0,a.createElementVNode)("div",Ze,[r[5]||(r[5]=(0,a.createElementVNode)("h3",{class:"uppercase tracking-wide font-bold text-xs border-b border-gray-100 dark:border-gray-700 py-4 px-8"},"Rinomina Elemento",-1)),(0,a.createElementVNode)("div",Je,[r[4]||(r[4]=(0,a.createElementVNode)("label",{for:"itemName",class:"block text-sm font-medium text-gray-700 dark:text-gray-200"},"Nuovo Nome",-1)),(0,a.createElementVNode)("input",{type:"text",id:"itemName",value:e.modelValue,onInput:r[0]||(r[0]=function(e){return t.$emit("update:modelValue",e.target.value)}),class:"mt-1 block w-full form-control form-input form-input-bordered",required:"",ref_key:"renameInput",ref:o},null,40,Ye)])]),(0,a.createElementVNode)("div",Xe,[(0,a.createElementVNode)("div",Qe,[(0,a.createElementVNode)("button",{type:"button",onClick:r[1]||(r[1]=function(e){return t.$emit("close")}),class:"ml-auto mr-3 appearance-none bg-transparent font-bold text-gray-400 hover:text-gray-300 active:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 dark:active:text-gray-600 dark:hover:bg-gray-800 cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3"}," Annulla "),r[6]||(r[6]=(0,a.createElementVNode)("button",{type:"submit",class:"border text-left appearance-none cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 relative disabled:cursor-not-allowed inline-flex items-center justify-center shadow h-9 px-3 bg-primary-500 border-primary-500 hover:[&:not(:disabled)]:bg-primary-400 hover:[&:not(:disabled)]:border-primary-400 text-white dark:text-gray-900"}," Rinomina ",-1))])])],32)])])):(0,a.createCommentVNode)("",!0)}}};var tt={class:"relative mx-auto z-20 max-w-2xl text-left"},rt={class:"space-y-6"},at={class:"px-8"},ot={class:"bg-gray-100 dark:bg-gray-700 px-6 py-3 flex",style:{"margin-top":"30px"}},nt={class:"flex items-center ml-auto"};const lt={__name:"DeleteModal",props:["show","itemName"],emits:["close","delete"],setup:function(e){return function(t,r){return e.show?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal fixed inset-0 z-[60] px-3 md:px-0 py-3 md:py-6 overflow-x-hidden overflow-y-auto",style:{"background-color":"rgba(0, 0, 0, 0.5)"},role:"dialog",onClick:r[2]||(r[2]=(0,a.withModifiers)(function(e){return t.$emit("close")},["self"]))},[(0,a.createElementVNode)("div",tt,[(0,a.createElementVNode)("form",{onSubmit:r[1]||(r[1]=(0,a.withModifiers)(function(e){return t.$emit("delete")},["prevent"])),autocomplete:"off",class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},[(0,a.createElementVNode)("div",rt,[r[7]||(r[7]=(0,a.createElementVNode)("h3",{class:"uppercase tracking-wide font-bold text-xs border-b border-gray-100 dark:border-gray-700 py-4 px-8"},"Conferma Eliminazione",-1)),(0,a.createElementVNode)("p",at,[r[3]||(r[3]=(0,a.createTextVNode)('Sei sicuro di voler eliminare "')),(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.itemName),1),r[4]||(r[4]=(0,a.createTextVNode)('"?')),r[5]||(r[5]=(0,a.createElementVNode)("br",null,null,-1)),r[6]||(r[6]=(0,a.createTextVNode)("L'azione non è reversibile."))])]),(0,a.createElementVNode)("div",ot,[(0,a.createElementVNode)("div",nt,[(0,a.createElementVNode)("button",{type:"button",onClick:r[0]||(r[0]=function(e){return t.$emit("close")}),class:"ml-auto mr-3 appearance-none bg-transparent font-bold text-gray-400 hover:text-gray-300 active:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 dark:active:text-gray-600 dark:hover:bg-gray-800 cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3"}," Annulla "),r[8]||(r[8]=(0,a.createElementVNode)("button",{type:"submit",class:"border text-left appearance-none cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 relative disabled:cursor-not-allowed inline-flex items-center justify-center shadow h-9 px-3 bg-red-500 border-red-500 hover:[&:not(:disabled)]:bg-red-400 hover:[&:not(:disabled)]:border-red-400 text-white"}," Sì, Elimina ",-1))])])],32)])])):(0,a.createCommentVNode)("",!0)}}};var it={class:"relative mx-auto z-20 max-w-2xl text-left"},ct={class:"space-y-6"},st={class:"px-8"},dt=["value"];const ut={__name:"AssignTypeModal",props:{show:Boolean,modelValue:String,typeOptions:{type:Array,default:function(){return[]}}},emits:["close","assign","update:modelValue"],setup:function(e,t){var r=t.emit,o=e,n=r,l=(0,a.ref)(o.modelValue);(0,a.watch)(function(){return o.modelValue},function(e){l.value=e});var i=function(){n("assign",l.value)},c=function(){n("close")},s=function(e){n("update:modelValue",e.target.value)};return function(t,r){return e.show?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal fixed inset-0 z-[60] px-3 md:px-0 py-3 md:py-6 overflow-x-hidden overflow-y-auto",style:{"background-color":"rgba(0, 0, 0, 0.5)"},role:"dialog",onClick:(0,a.withModifiers)(c,["self"])},[(0,a.createElementVNode)("div",it,[(0,a.createElementVNode)("form",{onSubmit:(0,a.withModifiers)(i,["prevent"]),autocomplete:"off",class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},[(0,a.createElementVNode)("div",ct,[r[2]||(r[2]=(0,a.createElementVNode)("h3",{class:"uppercase tracking-wide font-bold text-xs border-b border-gray-100 dark:border-gray-700 py-4 px-8"}," Assegna Tipo ",-1)),(0,a.createElementVNode)("div",st,[r[1]||(r[1]=(0,a.createElementVNode)("label",{for:"type",class:"block text-sm font-medium text-gray-700 dark:text-gray-200"}," Tipo ",-1)),(0,a.withDirectives)((0,a.createElementVNode)("select",{id:"type","onUpdate:modelValue":r[0]||(r[0]=function(e){return l.value=e}),onChange:s,class:"mt-1 block w-full form-control form-input form-input-bordered",required:""},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.typeOptions,function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{key:e.value,value:e.value},(0,a.toDisplayString)(e.label),9,dt)}),128))],544),[[a.vModelSelect,l.value]])])]),(0,a.createElementVNode)("div",{class:"bg-gray-100 dark:bg-gray-700 px-6 py-3 flex",style:{"margin-top":"30px"}},[(0,a.createElementVNode)("div",{class:"flex items-center ml-auto"},[(0,a.createElementVNode)("button",{type:"button",onClick:c,class:"ml-auto mr-3 appearance-none bg-transparent font-bold text-gray-400 hover:text-gray-300 active:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 dark:active:text-gray-600 dark:hover:bg-gray-800 cursor-pointer rounded text-sm focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3"}," Annulla "),r[3]||(r[3]=(0,a.createElementVNode)("button",{type:"submit",class:"border appearance-none cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 relative disabled:cursor-not-allowed inline-flex items-center justify-center shadow h-9 px-3 bg-primary-500 border-primary-500 hover:[&:not(:disabled)]:bg-primary-400 hover:[&:not(:disabled)]:border-primary-400 text-white dark:text-gray-900"}," Assegna Tipo ",-1))])])],32)])])):(0,a.createCommentVNode)("",!0)}}};var mt=r(38),ft={insert:"head",singleton:!1};k()(mt.A,ft);mt.A.locals;const pt=(0,N.A)(ut,[["__scopeId","data-v-4d5e1ba9"]]);function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n,l,i=[],c=!0,s=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=n.call(r)).done)&&(i.push(a.value),i.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function ht(){var e,t,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function n(r,a,o,n){var c=a&&a.prototype instanceof i?a:i,s=Object.create(c.prototype);return yt(s,"_invoke",function(r,a,o){var n,i,c,s=0,d=o||[],u=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return n=t,i=0,c=e,m.n=r,l}};function f(r,a){for(i=r,c=a,t=0;!u&&s&&!o&&t<d.length;t++){var o,n=d[t],f=m.p,p=n[2];r>3?(o=p===a)&&(c=n[(i=n[4])?5:(i=3,3)],n[4]=n[5]=e):n[0]<=f&&((o=r<2&&f<n[1])?(i=0,m.v=a,m.n=n[1]):f<p&&(o=r<3||n[0]>a||a>p)&&(n[4]=r,n[5]=a,m.n=p,i=0))}if(o||r>1)return l;throw u=!0,a}return function(o,d,p){if(s>1)throw TypeError("Generator is already running");for(u&&1===d&&f(d,p),i=d,c=p;(t=i<2?e:c)||!u;){n||(i?i<3?(i>1&&(m.n=-1),f(i,c)):m.n=c:m.v=c);try{if(s=2,n){if(i||(o="next"),t=n[o]){if(!(t=t.call(n,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=n.return)&&t.call(n),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);n=e}else if((t=(u=m.n<0)?c:r.call(a,m))!==l)break}catch(t){n=e,i=1,c=t}finally{s=1}}return{value:t,done:u}}}(r,o,n),!0),s}var l={};function i(){}function c(){}function s(){}t=Object.getPrototypeOf;var d=[][a]?t(t([][a]())):(yt(t={},a,function(){return this}),t),u=s.prototype=i.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,yt(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=s,yt(u,"constructor",s),yt(s,"constructor",c),c.displayName="GeneratorFunction",yt(s,o,"GeneratorFunction"),yt(u),yt(u,o,"Generator"),yt(u,a,function(){return this}),yt(u,"toString",function(){return"[object Generator]"}),(ht=function(){return{w:n,m}})()}function yt(e,t,r,a){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}yt=function(e,t,r,a){if(t)o?o(e,t,{value:r,enumerable:!a,configurable:!a,writable:!a}):e[t]=r;else{var n=function(t,r){yt(e,t,function(e){return this._invoke(t,r,e)})};n("next",0),n("throw",1),n("return",2)}},yt(e,t,r,a)}function xt(e,t,r,a,o,n,l){try{var i=e[n](l),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function kt(e){return function(){var t=this,r=arguments;return new Promise(function(a,o){var n=e.apply(t,r);function l(e){xt(n,a,o,l,i,"next",e)}function i(e){xt(n,a,o,l,i,"throw",e)}l(void 0)})}}function wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Et(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=vt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=vt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nt={class:"font-normal text-xl md:text-xl mb-3 flex items-center"},Vt={class:"flex gap-2 mb-6"},Ct={class:"relative h-9 w-full md:w-1/3 md:shrink-0"},Bt={class:"inline-flex items-center gap-2 ml-auto"},At={class:"fm-header"},jt={class:"fm-actions"},_t={class:"relative",ref:"filterDropdown"},zt={key:0,class:"absolute z-10 right-0 mt-2 w-64 select-none overflow-hidden bg-white dark:bg-gray-900 shadow-lg rounded-lg border border-gray-200 dark:border-gray-700"},St={class:"scroll-wrap overflow-x-hidden overflow-y-auto bg-white dark:bg-gray-900",style:{"max-height":"350px"}},Mt={class:"divide-y divide-gray-200 dark:divide-gray-800 divide-solid"},It={class:"pt-2 pb-3"},Dt={class:"mt-1 px-3"},Pt=["value"],Ot={class:"pt-2 pb-3"},Tt={class:"mt-1 px-3"},Lt={class:"pt-2 pb-3"},$t={class:"mt-1 px-3"},Ft=["value"],Ut={key:1,class:"p-4"},qt={key:2},Gt={key:3,class:"flex flex-col items-center justify-center p-8 bg-gray-50 dark:bg-gray-800 border border-dashed border-gray-200 dark:border-gray-700 rounded-lg space-y-4"};const Rt={__name:"Tool",props:["resourceName","resourceId","panel","resource"],setup:function(e){var t=e,r=(0,a.computed)(function(){return t.panel.fields[0].typeOptions||[]}),o=(0,a.computed)(function(){return t.panel.name||"Gestione File"}),n=(0,a.ref)(!0),l=(0,a.ref)([]),i=(0,a.ref)([]),c=(0,a.ref)(""),s=(0,a.ref)(null),u=(0,a.ref)(15),m=[5,15,30,50,100],f=(0,a.ref)(!1),v=(0,a.ref)(""),b=(0,a.ref)(""),h=(0,a.ref)(""),y=(0,a.ref)(!1),x=(0,a.ref)("grid"),k=(0,a.ref)(!1),w=(0,a.ref)(""),E=(0,a.ref)(!1),N=(0,a.ref)(""),C=(0,a.ref)(!1),B=(0,a.ref)(!1),A=(0,a.ref)("offerta"),j=(0,a.ref)({show:!1,x:0,y:0,item:null}),_=(0,a.ref)(null),z=(0,a.ref)(null),M=(0,a.computed)(function(){return l.value}),I=(0,a.computed)(function(){return"grid"===x.value?le:Ae}),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(r),!0).forEach(function(t){Et(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({resourceName:t.resourceName,resourceId:t.resourceId,path:c.value,search:v.value,filter_tag:b.value,filter_mimetype:h.value},e)},O=function(){var e=kt(ht().m(function e(){var t,r,a;return ht().w(function(e){for(;;)switch(e.p=e.n){case 0:return n.value=!0,e.p=1,e.n=2,Nova.request().get("/api/rfm/list",{params:D({page:(null===(t=s.value)||void 0===t?void 0:t.currentPage)||1,perPage:u.value})});case 2:r=e.v,l.value=r.data.files,i.value=r.data.breadcrumbs,s.value=r.data.pagination,e.n=4;break;case 3:e.p=3,a=e.v,console.error("[FileManager] Error fetching files:",a),Nova.error("Impossibile caricare i file.");case 4:return e.p=4,n.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),T=d(O,300),L=function(e){c.value=e,s.value.currentPage=1,O()},$=function(e){e<1||e>s.value.lastPage||(s.value.currentPage=e,O())},F=function(){var e=kt(ht().m(function e(t){var r;return ht().w(function(e){for(;;)switch(e.p=e.n){case 0:if("folder"!==t.type){e.n=1;break}L(t.path),e.n=4;break;case 1:return e.p=1,e.n=2,Nova.request().get("/api/rfm/generate-temp-link",{params:D({path:t.path})});case 2:r=e.v,window.open(r.data.url,"_blank"),e.n=4;break;case 3:e.p=3,e.v,Nova.error("Impossibile generare il link per il file.");case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}(),q=function(e,t){for(var r=e,a=1,o=e.lastIndexOf("."),n=-1!==o?e.substring(0,o):e,l=-1!==o?e.substring(o):"";t.includes(r);)r="".concat(n," (").concat(a,")").concat(l),a++;return r},G=function(){var e=kt(ht().m(function e(){var t,r;return ht().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.value){e.n=1;break}return e.a(2,Nova.error("Il nome della cartella non può essere vuoto."));case 1:return t=l.value.filter(function(e){return"folder"===e.type}).map(function(e){return e.name}),r=q(w.value,t),n.value=!0,k.value=!1,e.p=2,e.n=3,Nova.request().post("/api/rfm/create-folder",D({folderName:r}));case 3:return Nova.success("Cartella creata con successo!"),w.value="",e.n=4,O();case 4:e.n=6;break;case 5:e.p=5,e.v,Nova.error("Errore durante la creazione della cartella.");case 6:return e.p=6,n.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[2,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=kt(ht().m(function e(){var r,a,o,i=arguments;return ht().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=(i.length>0&&void 0!==i[0]?i[0]:null)||_.value||j.value.item,N.value){e.n=1;break}return e.a(2,Nova.error("Il nuovo nome non può essere vuoto."));case 1:if(r){e.n=2;break}return e.a(2);case 2:return a=l.value.filter(function(e){return e.type===r.type&&e.path!==r.path}).map(function(e){return e.name}),o=q(N.value,a),n.value=!0,E.value=!1,_.value=null,e.p=3,e.n=4,Nova.request().post("/api/rfm/rename",{path:r.path,newName:o,resourceName:t.resourceName,resourceId:t.resourceId});case 4:return Nova.success("Elemento rinominato con successo!"),e.n=5,O();case 5:e.n=7;break;case 6:e.p=6,e.v,Nova.error("Errore durante la rinomina.");case 7:return e.p=7,n.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[3,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=kt(ht().m(function e(){var r,a=arguments;return ht().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=(a.length>0&&void 0!==a[0]?a[0]:null)||j.value.item){e.n=1;break}return e.a(2);case 1:return n.value=!0,C.value=!1,e.p=2,e.n=3,Nova.request().post("/api/rfm/delete",{path:r.path,type:r.type,resourceName:t.resourceName,resourceId:t.resourceId});case 3:return Nova.success("Elemento eliminato con successo!"),e.n=4,O();case 4:e.n=6;break;case 5:e.p=5,e.v,Nova.error("Errore durante l'eliminazione.");case 6:return e.p=6,n.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[2,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),W=function(e){var t=e||j.value.item;if(t&&"file"===t.type){var r=new URLSearchParams(D({path:t.path})),a="/api/rfm/download?".concat(r.toString()),o=document.createElement("a");o.href=a,o.setAttribute("download",t.name),document.body.appendChild(o),o.click(),document.body.removeChild(o),te()}};function K(e){return Z.apply(this,arguments)}function Z(){return(Z=kt(ht().m(function e(r){var a;return ht().w(function(e){for(;;)switch(e.n){case 0:return a=j.value.item,e.n=1,Nova.request().post("/api/rfm/assign-type",{resourceName:t.resourceName,resourceId:t.resourceId,path:a.path,type:r});case 1:B.value=!1,O();case 2:return e.a(2)}},e)}))).apply(this,arguments)}var J=function(){return z.value.click()},Y=function(e){return Q(e.target.files)},X=function(e){f.value=!1,Q(e.dataTransfer.files)},Q=function(e){if(e.length){n.value=!0;var t=l.value.filter(function(e){return"file"===e.type}).map(function(e){return e.name}),r=Array.from(e).map(function(e){var r=q(e.name,t),a=r!==e.name?new File([e],r,{type:e.type}):e,o=new FormData;return o.append("file",a),Object.entries(D()).forEach(function(e){var t=gt(e,2),r=t[0],a=t[1];return o.append(r,a)}),Nova.request().post("/api/rfm/upload",o)});Promise.all(r).then(function(){Nova.success("File caricati con successo!"),O()}).catch(function(e){console.error("[FileManager] Upload error:",e),Nova.error("Errore durante il caricamento di uno o più file."),n.value=!1})}},ee=function(e,t){j.value={show:!0,x:e.clientX,y:e.clientY,item:t}},te=function(){j.value.show&&(j.value.show=!1)};function re(e){var t;j.value={show:!0,item:e},A.value=j.value.item.tags||(null===(t=r.value[0])||void 0===t?void 0:t.value)||null,B.value=!0}var ae=function(e){var t=e||j.value.item;N.value=t.name,E.value=!0,te()},oe=function(e){j.value.item=e||j.value.item,C.value=!0,te()},ne=function(e){N.value=e.name,_.value=e},ie=function(){_.value=null,N.value=""};return(0,a.watch)(u,function(){s.value.currentPage=1,T()}),(0,a.watch)(v,function(){s.value.currentPage=1,T()}),(0,a.watch)(b,function(){s.value.currentPage=1,T()}),(0,a.watch)(h,function(){s.value.currentPage=1,T()}),(0,a.onMounted)(function(){O(),document.addEventListener("click",function(e){var t=document.querySelector('[ref="filterDropdown"]');t&&!t.contains(e.target)&&(y.value=!1)})}),function(e,t){var l;return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"fm-wrapper",onClick:te},[(0,a.createElementVNode)("h1",Nt,(0,a.toDisplayString)(o.value),1),(0,a.createElementVNode)("div",Vt,[(0,a.createElementVNode)("div",Ct,[(0,a.createVNode)(p,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return v.value=e})},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Bt,[(0,a.createVNode)(g,{onClick:t[1]||(t[1]=function(e){return k.value=!0}),dusk:"create-folder-button"},{default:(0,a.withCtx)(function(){return t[17]||(t[17]=[(0,a.createElementVNode)("span",{class:"md:inline-block"},"Crea Cartella",-1),(0,a.createElementVNode)("span",{class:"inline-block md:hidden"},"Crea",-1)])}),_:1,__:[17]}),(0,a.createVNode)(g,{onClick:J,dusk:"upload-file-button"},{default:(0,a.withCtx)(function(){return t[18]||(t[18]=[(0,a.createElementVNode)("span",{class:"md:inline-block"},"Carica File",-1),(0,a.createElementVNode)("span",{class:"inline-block md:hidden"},"Carica",-1)])}),_:1,__:[18]})])]),(0,a.createElementVNode)("div",{class:"fm-container",onDragover:t[8]||(t[8]=(0,a.withModifiers)(function(e){return f.value=!0},["prevent"])),onDragleave:t[9]||(t[9]=(0,a.withModifiers)(function(e){return f.value=!1},["prevent"])),onDrop:(0,a.withModifiers)(X,["prevent"])},[(0,a.createElementVNode)("header",At,[(0,a.createVNode)(V,{crumbs:i.value,onNavigate:L},null,8,["crumbs"]),(0,a.createElementVNode)("div",jt,[(0,a.createVNode)(S,{modelValue:x.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return x.value=e})},null,8,["modelValue"]),(0,a.createElementVNode)("div",_t,[(0,a.createElementVNode)("button",{onClick:t[3]||(t[3]=function(e){return y.value=!y.value}),type:"button",class:"border text-left appearance-none cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 relative disabled:cursor-not-allowed inline-flex items-center justify-center bg-transparent border-transparent h-9 px-1.5 text-gray-600 dark:text-gray-400 hover:[&:not(:disabled)]:bg-gray-700/5 dark:hover:[&:not(:disabled)]:bg-gray-950"},t[19]||(t[19]=[(0,a.createStaticVNode)('<span class="flex items-center gap-1" data-v-fc0b2460><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="w-6 h-6" data-v-fc0b2460><path stroke-linecap="round" stroke-linejoin="round" d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z" data-v-fc0b2460></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="w-5 h-5" data-v-fc0b2460><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" data-v-fc0b2460></path></svg></span>',1)])),y.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",zt,[(0,a.createElementVNode)("div",St,[(0,a.createElementVNode)("div",Mt,[(0,a.createElementVNode)("div",It,[t[21]||(t[21]=(0,a.createElementVNode)("h3",{class:"px-3 text-xs uppercase font-bold tracking-wide"},"Tipi Personalizzati",-1)),(0,a.createElementVNode)("div",Dt,[(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return b.value=e}),class:"w-full block form-control form-control-bordered form-input h-8 text-xs"},[t[20]||(t[20]=(0,a.createElementVNode)("option",{value:""},"Tutti",-1)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.value,function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{key:e.value,value:e.value},(0,a.toDisplayString)(e.label),9,Pt)}),128))],512),[[a.vModelSelect,b.value]])])]),(0,a.createElementVNode)("div",Ot,[t[23]||(t[23]=(0,a.createElementVNode)("h3",{class:"px-3 text-xs uppercase font-bold tracking-wide"},"Tipi di File (Mimetype)",-1)),(0,a.createElementVNode)("div",Tt,[(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return h.value=e}),class:"w-full block form-control form-control-bordered form-input h-8 text-xs"},t[22]||(t[22]=[(0,a.createStaticVNode)('<option value="" data-v-fc0b2460>Tutti</option><option value="image/jpeg" data-v-fc0b2460>JPEG</option><option value="image/png" data-v-fc0b2460>PNG</option><option value="application/pdf" data-v-fc0b2460>PDF</option><option value="application/zip" data-v-fc0b2460>ZIP</option>',5)]),512),[[a.vModelSelect,h.value]])])]),(0,a.createElementVNode)("div",Lt,[t[24]||(t[24]=(0,a.createElementVNode)("h3",{class:"px-3 text-xs uppercase font-bold tracking-wide"},"Per Pagina",-1)),(0,a.createElementVNode)("div",$t,[(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return u.value=e}),class:"w-full block form-control form-control-bordered form-input h-8 text-xs"},[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(m,function(e){return(0,a.createElementVNode)("option",{key:e,value:e},(0,a.toDisplayString)(e),9,Ft)}),64))],512),[[a.vModelSelect,u.value]])])])])])])):(0,a.createCommentVNode)("",!0)],512)])]),f.value?((0,a.openBlock)(),(0,a.createBlock)(P,{key:0})):(0,a.createCommentVNode)("",!0),n.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ut,[(0,a.createVNode)(U,{"view-mode":x.value},null,8,["view-mode"])])):M.value.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",qt,[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(I.value),{items:M.value,"editing-item":_.value,"new-item-name":N.value,"onUpdate:newItemName":t[7]||(t[7]=function(e){return N.value=e}),onItemDoubleClick:F,onItemContextMenu:ee,onRenameItem:R,onCancelEditing:ie,onDownloadItem:W,onStartEditing:ne,onDeleteItem:oe,onOpenAssignTypeModal:re},null,40,["items","editing-item","new-item-name"]))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Gt,[t[26]||(t[26]=(0,a.createElementVNode)("h3",{class:"text-2xl font-semibold text-gray-700 dark:text-gray-200"}," Cartella vuota ",-1)),(0,a.createElementVNode)("p",{class:"text-sm text-gray-500 dark:text-gray-400"},[t[25]||(t[25]=(0,a.createTextVNode)(" Trascina qui i file o ")),(0,a.createElementVNode)("button",{onClick:J,class:"text-sky-500 hover:underline font-medium focus:outline-none"}," seleziona manualmente ")])])),s.value&&s.value.total>0?((0,a.openBlock)(),(0,a.createBlock)(Oe,{key:4,pagination:s.value,onChangePage:$},null,8,["pagination"])):(0,a.createCommentVNode)("",!0)],32),(0,a.createElementVNode)("input",{type:"file",onChange:Y,ref_key:"fileInput",ref:z,class:"hidden",multiple:""},null,544),j.value.show?((0,a.openBlock)(),(0,a.createBlock)(Fe,{key:0,menu:j.value,onRename:ae,onDownload:W,onDelete:oe,onAssignType:re},null,8,["menu"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(We,{show:k.value,modelValue:w.value,"onUpdate:modelValue":t[10]||(t[10]=function(e){return w.value=e}),onClose:t[11]||(t[11]=function(e){return k.value=!1}),onCreate:G},null,8,["show","modelValue"]),(0,a.createVNode)(et,{show:E.value,modelValue:N.value,"onUpdate:modelValue":t[12]||(t[12]=function(e){return N.value=e}),onClose:t[13]||(t[13]=function(e){return E.value=!1}),onRename:R},null,8,["show","modelValue"]),(0,a.createVNode)(lt,{show:C.value,"item-name":null===(l=j.value.item)||void 0===l?void 0:l.name,onClose:t[14]||(t[14]=function(e){return C.value=!1}),onDelete:H},null,8,["show","item-name"]),(0,a.createVNode)(pt,{show:B.value,"type-options":r.value,modelValue:A.value,"onUpdate:modelValue":t[15]||(t[15]=function(e){return A.value=e}),onClose:t[16]||(t[16]=function(e){return B.value=!1}),onAssign:K},null,8,["show","type-options","modelValue"])])}}};var Ht=r(861),Wt={insert:"head",singleton:!1};k()(Ht.A,Wt);Ht.A.locals;const Kt=(0,N.A)(Rt,[["__scopeId","data-v-fc0b2460"]]);Nova.booting(function(e){e.component("resource-file-manager",Kt)})},861:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(314),o=r.n(a)()(function(e){return e[1]});o.push([e.id,"[data-v-fc0b2460]:root{--primary-500:#3b82f6;--primary-400:#60a5fa;--primary-600:#2563eb}.fm-wrapper[data-v-fc0b2460]{--fm-font-family:system-ui,-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\";--fm-border-radius:0.75rem;--fm-border-radius-sm:0.5rem;--fm-primary-color:#3b82f6;--fm-primary-color-hover:#2563eb;--fm-text-color:#64748b;--fm-text-color-dim:#6b7285;--fm-bg-color:#fff;--fm-bg-alt-color:#f9fafb;--fm-border-color:#e5e7eb;--fm-border-color-focus:#93c5fd;--fm-danger-color:#ef4444;--fm-danger-color-hover:#dc2626;--fm-shadow-sm:0 1px 2px 0 rgba(0,0,0,.05);--fm-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--fm-shadow-lg:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--fm-shadow-xl:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1)}.dark .fm-wrapper[data-v-fc0b2460]{--fm-primary-color:#60a5fa;--fm-primary-color-hover:#3b82f6;--fm-text-color:#94a3b8;--fm-text-color-dim:#9ca3af;--fm-bg-color:#1e2a3b;--fm-bg-alt-color:#1f2937;--fm-border-color:#374151;--fm-border-color-focus:#3b82f6}.fm-wrapper[data-v-fc0b2460]{font-family:var(--fm-font-family)}.fm-container[data-v-fc0b2460],.fm-wrapper[data-v-fc0b2460]{border-radius:var(--fm-border-radius)}.fm-container[data-v-fc0b2460]{background-color:var(--fm-bg-color);box-shadow:var(--fm-shadow-lg);overflow:hidden;padding:0}.dark .fm-container[data-v-fc0b2460]{-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px);background:var(--fm-bg-color)}.fm-header[data-v-fc0b2460]{border-bottom:1px solid var(--fm-border-color);gap:1rem;justify-content:space-between;padding:.75rem 1.25rem}.fm-actions[data-v-fc0b2460],.fm-header[data-v-fc0b2460]{align-items:center;display:flex;flex-wrap:wrap}.fm-actions[data-v-fc0b2460]{gap:.75rem}.fade-scale-enter-active[data-v-fc0b2460],.fade-scale-leave-active[data-v-fc0b2460]{transition:all .2s ease-in-out}.fade-scale-enter-from[data-v-fc0b2460],.fade-scale-leave-to[data-v-fc0b2460]{opacity:0;transform:scale(.97)}.hidden[data-v-fc0b2460]{display:none}.form-control[data-v-fc0b2460]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3E%3C/svg%3E\");background-position:right .5rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;border-color:#d1d5db;border-radius:.375rem;border-width:1px;padding-left:.75rem;padding-right:2rem}.dark .form-control[data-v-fc0b2460]{background-color:#1f2937;border-color:#4b5563;color:#d1d5db}",""]);const n=o},917:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(314),o=r.n(a)()(function(e){return e[1]});o.push([e.id,"@keyframes sk-9b3bed98{0%{background-position:100% 0}to{background-position:-100% 0}}.fm-skeleton[data-v-9b3bed98]{animation:sk-9b3bed98 1.5s linear infinite;background:linear-gradient(90deg,var(--fm-bg-alt-color,#f9fafb) 25%,color-mix(in srgb,var(--fm-text-color-dim,#9ca3af) 10%,var(--fm-bg-alt-color,#f9fafb)) 50%,var(--fm-bg-alt-color,#f9fafb) 75%);background-size:200% 100%;border-color:var(--fm-border-color,#e5e7eb);box-shadow:none;cursor:default}.fm-grid[data-v-9b3bed98]{display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));padding:1.5rem}.fm-cell[data-v-9b3bed98]{aspect-ratio:1/1;background:var(--fm-bg-alt-color);border:1px solid transparent;border-radius:var(--fm-border-radius);position:relative}.fm-cell.fm-skeleton[data-v-9b3bed98]:hover{box-shadow:none;transform:none}.fm-list[data-v-9b3bed98]{display:flex;flex-direction:column}.fm-list-item[data-v-9b3bed98]{border-bottom:1px solid var(--fm-border-color,#e5e7eb);height:50px}",""]);const n=o}},r={};function a(e){var o=r[e];if(void 0!==o)return o.exports;var n=r[e]={id:e,exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,r,o,n)=>{if(!r){var l=1/0;for(d=0;d<e.length;d++){for(var[r,o,n]=e[d],i=!0,c=0;c<r.length;c++)(!1&n||l>=n)&&Object.keys(a.O).every(e=>a.O[e](r[c]))?r.splice(c--,1):(i=!1,n<l&&(l=n));if(i){e.splice(d--,1);var s=o();void 0!==s&&(t=s)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,o,n]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={416:0,757:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var o,n,[l,i,c]=r,s=0;if(l.some(t=>0!==e[t])){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(c)var d=c(a)}for(t&&t(r);s<l.length;s++)n=l[s],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},r=self.webpackChunkelsed_resource_file_manager=self.webpackChunkelsed_resource_file_manager||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),a.nc=void 0,a.O(void 0,[757],()=>a(794));var o=a.O(void 0,[757],()=>a(351));o=a.O(o)})();